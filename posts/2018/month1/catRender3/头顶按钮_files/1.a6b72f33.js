(window["HK3"]=window["HK3"]||[]).push([[1],{"4e82":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("23e7");var aFunction=__webpack_require__("1c0b");var toObject=__webpack_require__("7b0b");var fails=__webpack_require__("d039");var arrayMethodIsStrict=__webpack_require__("a640");var test=[];var nativeSort=test.sort;var FAILS_ON_UNDEFINED=fails((function(){test.sort(undefined)}));var FAILS_ON_NULL=fails((function(){test.sort(null)}));var STRICT_METHOD=arrayMethodIsStrict("sort");var FORCED=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD;$({target:"Array",proto:true,forced:FORCED},{sort:function sort(comparefn){return comparefn===undefined?nativeSort.call(toObject(this)):nativeSort.call(toObject(this),aFunction(comparefn))}})},b6ec:function(module,exports,__webpack_require__){(function(global){__webpack_require__("e01a");__webpack_require__("c975");__webpack_require__("e260");__webpack_require__("13d5");__webpack_require__("26e9");__webpack_require__("fb6a");__webpack_require__("4e82");__webpack_require__("b680");__webpack_require__("cca6");__webpack_require__("e6cf");__webpack_require__("4d63");__webpack_require__("25f0");__webpack_require__("466d");__webpack_require__("5319");__webpack_require__("841c");__webpack_require__("1276");__webpack_require__("498a");__webpack_require__("ddb0");!function(t,e){true?e(exports):undefined}(this,(function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n){Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}return t}).apply(this,arguments)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t));){}return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,o=!1,a=void 0;try{for(var r,c=t[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0){}}catch(t){o=!0,a=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||m(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++){i[n]=t[n]}return i}var v=0,y=function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return v++,(Date.now().toString(16)+v).slice(-1*t)},E=function E(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()};function B(t,e){return E(t)===e.toLowerCase()}function k(t){return null==t}function w(t){return void 0===t}function D(t){return!!B(t,"Object")&&(null===Object.getPrototypeOf(t)||Object===t.constructor)}function A(t){return B(t,"Function")}function C(t){return B(t,"String")}function S(t){return B(t,"Array")}function T(t){return!0===t||!1===t}var j="object"===("undefined"==typeof window?"undefined":e(window))?window:global,_=function _(t){if("function"==typeof t){var e="_xfunc_".concat(y());return j[e]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++){n[i]=arguments[i]}return t.apply(j,n)},e}return t},F=encodeURIComponent,I=function I(t){return F(t).replace(/[!'()*]/g,(function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())}))};function P(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(C(t))return t;var n=[];for(var i in t){var o=t[i];S(o)?o=JSON.stringify(O(o)):k(o)?o="":D(o)?o=JSON.stringify(o):A(o)&&(o=_(o)),n.push("".concat(i,"=").concat(e?I(o):o))}return n.join("&")}function O(t){return t.map((function(t){switch(E(t)){case"string":return t;case"function":return _(t);default:return t}}))}var L=function L(){};function R(t,e,n){var i,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=document,c=t.replace(/^(css|img)!/,""),s=!1,l=n.async,d=void 0===l||l,p=n.maxTries,u=void 0===p?1:p,h=n.timeout,f=void 0===h?2e4:h,g=n.before,x=void 0===g?null:g,m=x;"function"!=typeof m&&(m=L),/(^css!|\.css$)/.test(t)?(s=!0,(i=r.createElement("link")).rel="stylesheet",i.href=c):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(i=r.createElement("img")).src=c:((i=r.createElement("script")).src=t,i.async=!!d);var b=function b(r){var c;if(clearTimeout(o),c=r instanceof Error?"e":r.type[0],s&&"hideFocus"in i)try{i.sheet.cssText.length||(c="e")}catch(t){c="e"}if("e"===c&&(a+=1)<u)return R(t,e,n,a);i.onload=i.onerror=i.onbeforeload=null,i=null,e("e"===c?r||"error":null,t)};if(i.onload=i.onerror=b,!1!==m(t,i)){var v=r.head||r.getElementsByTagName("script")[0];v.appendChild(i),f>0&&(o=setTimeout((function(){b(new Error("timeout"))}),f))}}function N(t){return B(t,"function")}function z(t){var n=t.url,i=t.before,o=t.success,a=t.error,r=t.timeout,c=void 0===r?2e4:r,s=t.async,l=t.data,d=t.jsonpCallback,p=t.jsonpCallbackName;"object"===e(l)&&(l=P(l)),l&&(n+=(-1===n.indexOf("?")?"?":"&")+l),n=n.replace(/[&?]{1,2}/,"?");var u,h=(N(d)?d():d)||"_boxjsonp"+y(),f=window[h];window[h]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}u=e},p?n+="&"+p+"="+h:/=\?/.test(n)&&(n=n.replace(/=\?/,"="+h)),R(n,(function(t,e){t?a(t,e):o(u&&u[0]),window[h]=f,u&&N(f)&&f(u[0]),f=u=void 0}),{timeout:c,async:s,before:i})}var H=function H(t,n,i){if("object"===e(t)){var o,a,r=function(t){var e;e=null==t?String(t):(e=Object.prototype.toString.call(t).toLowerCase()).substring(8,e.length-1);return e}(t);if(i=i||t,"array"===r||"arguments"===r||"nodelist"===r){for(o=0,a=t.length;o<a;o++){if(!1===n.call(i,t[o],o,t))return}}else for(o in t){if(t.hasOwnProperty(o)&&!1===n.call(i,t[o],o,t))return}}};var M=/^\.([\w-]+)$/,U=/^#([\w-]*)$/,q=/^[\w-]+$/,V={mouseenter:"mouseover",mouseleave:"mouseout"},W={},$=function $(){return!0},J=function J(){return!1},Y=/^([A-Z]|layer[XY]$)/,Q={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function G(t,e,n,i){return function(t,e,n,i,o,a){var r=K(t),c=W[r]||(W[r]=[]);it(e,n,(function(e,n){var r=tt(e);r.fn=n,r.sel=i,r.e in V&&(n=function n(t){var e=t.relatedTarget;if(!e||e!==this&&!ct(this,e))return r.fn.apply(this,arguments)}),r.del=o&&o(n,e);var s=r.del||n;r.proxy=function(e){var n=s.apply(t,[e].concat(e.data));return!1===n&&(e.preventDefault(),e.stopPropagation()),n},r.i=c.length,c.push(r),"addEventListener"in t&&t.addEventListener(et(r.e),r.proxy,nt(r,a))}))}(t,n,i,e,(function(n){return function(i){var o,a=ot(i.target,e,t);if(a){(o=Z(i)).currentTarget=a,o.liveFired=t;for(var r=arguments.length,c=new Array(r>1?r-1:0),s=1;s<r;s++){c[s-1]=arguments[s]}return n.apply(a,[o].concat(c))}}}))}function X(t,e,n,i){return function(t,e,n,i,o){var a=K(t);it(e||"",n,(function(e,n){(function(t,e,n,i){var o,a=tt(e);a.ns&&(r=a.ns,o=new RegExp("(?:^| )"+r.replace(" "," .* ?")+"(?: |$)"));var r;return(W[K(t)]||[]).filter((function(t){return t&&(!a.e||t.e===a.e)&&(!a.ns||o.test(t.ns))&&(!n||K(t.fn)===K(n))&&(!i||t.sel===i)}))})(t,e,n,i).forEach((function(e){delete W[a][e.i],"removeEventListener"in t&&t.removeEventListener(et(e.e),e.proxy,nt(e,o))}))}))}(t,n,i,e)}function K(t){return t._bid||(t._bid=y())}function Z(t){var e,n={originalEvent:t};for(e in t){Y.test(e)||void 0===t[e]||(n[e]=t[e])}return H(Q,(function(e,i){n[i]=function(){return this[e]=$,t[i].apply(t,arguments)},n[e]=J})),n}function tt(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function et(t){return V[t]||t}function nt(t,e){return t.del&&("focus"===t.e||"blur"===t.e)||!!e}function it(t,e,n){t.split(/\s/).forEach((function(t){n(t,e)}))}function ot(t,e,n){for(;t&&!rt(t,e);){t=t!==n&&!at(t)&&t.parentNode}return t}function at(t){return null!=t&&t.nodeType===t.DOCUMENT_NODE}function rt(t,e){if(!t||1!==t.nodeType)return!1;var n,i=t.webkitMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var o=t.parentNode,a=!o,r=document.createElement("div");return a&&(o=r).appendChild(t),n=~function(t,e){var n;return at(t)&&U.test(e)?(n=t.getElementById(RegExp.$1))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:Array.prototype.slice.call(M.test(e)?t.getElementsByClassName(RegExp.$1):q.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))}(o,e).indexOf(t),a&&r.removeChild(t),n}function ct(t,e){return t!==e&&t.contains(e)}var st=function st(t,n,i){return new TypeError("Expected `"+t+"` to be of type `"+n+"`, got `"+e(i)+"`")},lt=function(){function t(){n(this,t),this._events={}}return o(t,[{key:"on",value:function value(t,e,n){if(!C(t))throw st("name","string",t);if(!A(e))throw st("callback","function",e);var i=this._events;return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this}},{key:"once",value:function value(t,e,n){var i=this;function o(){i.off(t,o);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++){r[c]=arguments[c]}e.apply(n,r)}return o._=e,this.on(t,o,n)}},{key:"emit",value:function value(t){if(!C(t))throw st("name","string",t);for(var e=(this._events[t]||[]).slice(),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++){i[o-1]=arguments[o]}for(var a=0,r=e.length;a<r;a++){var c=e[a],s=c.fn,l=c.ctx,d=void 0===l?null:l;s.apply(d,i)}return this}},{key:"off",value:function value(t,e){var n=this._events,i=n[t];if(i&&i.length)if(w(e))delete n[t];else if(A(e)){for(var o=[],a=0,r=i.length;a<r;a++){var c=i[a].fn;c!==e&&c._!==e&&o.push(i[a])}o.length?n[t]=o:delete n[t]}return this}}]),t}(),dt=function dt(){return new lt};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}('.x-avatar{position:relative;display:block;width:48px;height:48px}.x-avatar.is-small{width:39px;height:39px}.x-avatar-placeholder{position:absolute;left:0;top:0;width:100%;height:100%;background:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-bd-logo.png) 50% 50% no-repeat;background-size:50% 50%}.x-avatar-img{position:relative;width:100%;height:100%;background-position:50% 50%;background-repeat:no-repeat;background-size:cover;border-radius:50%;cursor:pointer}.x-avatar-img:after{content:"";position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;width:300%;height:300%;border:3px solid rgba(0,0,0,.1);border-radius:100%;-webkit-transform:scale(.333333);transform:scale(.333333);-webkit-transform-origin:0 0;transform-origin:0 0}.x-avatar-vip{position:absolute;z-index:1;right:0;bottom:0;width:16.5px;height:16.5px;background-position:50% 50%;background-repeat:no-repeat;background-size:cover}.x-avatar .is-small-vip{width:13.2px;height:13.2px}.x-avatar .vip-1{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-vip-1.png)}.x-avatar .vip-2{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-vip-2.png)}.x-avatar .vip-3{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-vip-3.png)}.x-avatar .vip-10{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-vip-10.png)}');var pt=function(){function t(e){n(this,t),this.container=e.container,this.prefixCls="x-avatar",this.src=e.src,this.vip=e.vip,this.href=e.href,this.isSmall=e.isSmall,this.render()}return o(t,[{key:"render",value:function value(){var t=document.createElement(this.href?"a":"div");t.classList.add("x-avatar",this.isSmall?"is-small":"x-avatar"),t.href=this.href;var e='\n            <div class="'.concat("x-avatar",'-placeholder"></div>\n            <div class="').concat("x-avatar",'-img" style="').concat(this.imgStyle(),'"></div>\n            ').concat(+this.vip?'<div class="'.concat("x-avatar","-vip vip-").concat(this.vip," ").concat(this.isSmall?"is-small-vip":"",'"></div>'):"","\n        ");t.innerHTML=e,this.container.appendChild(t)}},{key:"imgStyle",value:function value(){return this.src?"background-image: url(".concat(this.src,")"):""}},{key:"updateSrc",value:function value(t){this.src=t.src,this.container.querySelector(".".concat("x-avatar","-img")).style.backgroundImage="url(".concat(this.src,")")}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".user-bar{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-family:PingFangSC-Regular;position:relative}.user-bar-rumor{position:absolute;background-repeat:no-repeat;background-size:contain;pointer-events:none;opacity:.75;width:80.08px;height:46.41px;top:9px;right:12.01179188px;-webkit-transform:rotate(-15deg);transform:rotate(-15deg);-webkit-transform-origin:0 0;transform-origin:0 0}.user-bar-uname{font-family:PingFangSC-Semibold;font-size:13px;color:#222;cursor:pointer}.user-bar-lz{margin-left:4px;margin-right:-7px;padding:2px 2.67px;-webkit-transform:scale(.75);transform:scale(.75);-webkit-transform-origin:left center;transform-origin:left center;font-size:12px;line-height:1;color:#4e6ef2;border:1px solid rgba(78,110,242,.5);border-radius:3.25px;display:inline-block;font-family:initial;font-weight:400}.user-bar-dc{width:13px;height:13px;margin-left:4px;background-size:cover;background-position:50%;background-repeat:no-repeat}.user-bar-verified{padding-left:4px;font-size:13px;color:#626675;display:inline-block;max-width:200px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}");var ut=function(){function t(e){n(this,t),this.uname=e.uname,this.isAuthor=!!+e.isAuthor,this.verified=e.verified,this.decorations=e.decorations||[],this.prefixCls="user-bar",this.rumorIcon=e.rumorIcon}return o(t,[{key:"makeTpl",value:function value(){var t=this.decorations,e=this.rumorIcon;return'\n            <div class="'.concat("user-bar",'">\n                ').concat(e?'<div style="background-image:url('.concat(e,')" class="').concat("user-bar",'-rumor"></div>'):"",'\n                <h5 class="').concat("user-bar",'-uname">').concat(this.uname).concat(this.isAuthor?'<span class="'.concat("user-bar",'-lz">作者</span>'):"","</h5>\n                ").concat(t.length?t.map((function(t){return t.icon?'<span class="'.concat("user-bar",'-dc" style="background-image:url(').concat(t.icon,')"></span>'):""})).join(""):"","\n                ").concat(this.verified?'<span class="'.concat("user-bar",'-verified">').concat(this.verified,"</span>"):"","\n            </div>\n        ")}},{key:"bindEvent",value:function value(t){}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-interact-img-view{position:fixed;top:0;right:0;bottom:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;z-index:100;background:rgba(25,18,25,.9);cursor:-webkit-zoom-out;cursor:zoom-out}");var ht="x-interact-img-view",ft=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.list=e.list,this.containerId=e.containerId?"#"+e.containerId:"",this.container=this.containerId&&document.querySelector(this.containerId)||document.body,this.winHeight=window.innerHeight||document.documentElement.clientHeight,this.winWidth=window.innerWidth||document.documentElement.clientWidth}return o(t,[{key:"render",value:function value(){var t=this.makeTpl(this.list);this.container.insertAdjacentHTML("beforeend",t),this.bindEvent()}},{key:"makeTpl",value:function value(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e[n]||{},o=i||{},a=o.url,r=o.width,c=o.height;r>c?(r=Math.min(r,this.winWidth)-100,t="width: ".concat(r,"px")):(c=Math.min(c,this.winHeight)-100,t="height: ".concat(c,"px"));var s='\n            <div class="'.concat(ht,'">\n                <img src="').concat(a,'" style="').concat(t,'"/>\n            </div>\n        ');return s}},{key:"destory",value:function value(){X(this.container,".".concat(ht),"click");var t=this.container.querySelector(".".concat(ht));t&&(t.outerHTML="")}},{key:"bindEvent",value:function value(){var t=this;G(this.container,".".concat(ht),"click",(function(){t.destory()}))}}]),t}(),gt="object"===("undefined"==typeof window?"undefined":e(window))&&window.self===window?navigator.userAgent:"";var xt={version:"1",imgpath:"https://baidubox-emoji.cdn.bcebos.com/imgs/",packages:[{id:"1",name:"emoji",package_icon:"package_01.png",version:"2.8.0",blacklist:[],emoticons:[{id:"002002",text:"[微笑]",icon:"%5B%E5%BE%AE%E7%AC%91%5D.png"},{id:"002003",text:"[吃瓜]",icon:"%5B%E5%90%83%E7%93%9C%5D.png"},{id:"002004",text:"[大笑]",icon:"%5B%E5%A4%A7%E7%AC%91%5D.png"},{id:"002005",text:"[鼓掌]",icon:"%5B%E9%BC%93%E6%8E%8C%5D.png"},{id:"002006",text:"[嘻嘻]",icon:"%5B%E5%98%BB%E5%98%BB%5D.png"},{id:"002007",text:"[色]",icon:"%5B%E8%89%B2%5D.png"},{id:"002008",text:"[得意]",icon:"%5B%E5%BE%97%E6%84%8F%5D.png"},{id:"002042",text:"[二哈]",icon:"%5B%E4%BA%8C%E5%93%88%5D.png"},{id:"002043",text:"[大哈]",icon:"%5B%E5%A4%A7%E5%93%88%5D.png"},{id:"002044",text:"[三哈]",icon:"%5B%E4%B8%89%E5%93%88%5D.png"},{id:"002026",text:"[亲吻]",icon:"%5B%E4%BA%B2%E5%90%BB%5D.png"},{id:"002010",text:"[滑稽]",icon:"%5B%E6%BB%91%E7%A8%BD%5D.png"},{id:"002037",text:"[鄙视]",icon:"%5B%E9%84%99%E8%A7%86%5D.png"},{id:"002045",text:"[惊恐]",icon:"%5B%E6%83%8A%E6%81%90%5D.png"},{id:"002077",text:"[温暖]",icon:"%5B%E6%B8%A9%E6%9A%96%5D.png"},{id:"002027",text:"[抠鼻]",icon:"%5B%E6%8A%A0%E9%BC%BB%5D.png"},{id:"002096",text:"[赞同]",icon:"%5B%E8%B5%9E%E5%90%8C%5D.png"},{id:"002097",text:"[双手鼓掌]",icon:"%5B%E5%8F%8C%E6%89%8B%E9%BC%93%E6%8E%8C%5D.png"},{id:"002089",text:"[比心]",icon:"%5B%E6%AF%94%E5%BF%83%5D.png"},{id:"002098",text:"[作揖]",icon:"%5B%E4%BD%9C%E6%8F%96%5D.png"},{id:"002104",text:"[弱]",icon:"%5B%E5%BC%B1%5D.png"},{id:"002012",text:"[汗]",icon:"%5B%E6%B1%97%5D.png"},{id:"002082",text:"[捂脸]",icon:"%5B%E6%8D%82%E8%84%B8%5D.png"},{id:"002013",text:"[左捂脸]",icon:"%5B%E5%B7%A6%E6%8D%82%E8%84%B8%5D.png"},{id:"002023",text:"[舔屏]",icon:"%5B%E8%88%94%E5%B1%8F%5D.png"},{id:"002024",text:"[打call]",icon:"%5B%E6%89%93call%5D.png"},{id:"002121",text:"[冻成狗了]",icon:"%5B%E5%86%BB%E6%88%90%E7%8B%97%E4%BA%86%5D.png"},{id:"002019",text:"[寒冷加被]",icon:"%5B%E5%AF%92%E5%86%B7%E5%8A%A0%E8%A2%AB%5D.png"},{id:"002078",text:"[Salute]",icon:"%5BSalute%5D.png"},{id:"002145",text:"[AWSL]",icon:"%5BAWSL%5D.png"},{id:"002022",text:"[可怜]",icon:"%5B%E5%8F%AF%E6%80%9C%5D.png"},{id:"002083",text:"[笑哭]",icon:"%5B%E7%AC%91%E5%93%AD%5D.png"},{id:"002092",text:"[小红花]",icon:"%5B%E5%B0%8F%E7%BA%A2%E8%8A%B1%5D.png"},{id:"002084",text:"[发怒]",icon:"%5B%E5%8F%91%E6%80%92%5D.png"},{id:"002080",text:"[厉害]",icon:"%5B%E5%8E%89%E5%AE%B3%5D.png"},{id:"002001",text:"[心]",icon:"%5B%E5%BF%83%5D.png"},{id:"002095",text:"[伤心]",icon:"%5B%E4%BC%A4%E5%BF%83%5D.png"},{id:"002021",text:"[中国必胜]",icon:"%5B%E4%B8%AD%E5%9B%BD%E5%BF%85%E8%83%9C%5D.png"},{id:"002088",text:"[给力]",icon:"%5B%E7%BB%99%E5%8A%9B%5D.png"},{id:"002093",text:"[中国]",icon:"%5B%E4%B8%AD%E5%9B%BD%5D.png"},{id:"002105",text:"[中国加油]",icon:"%5B%E4%B8%AD%E5%9B%BD%E5%8A%A0%E6%B2%B9%5D.png"},{id:"002090",text:"[庆祝]",icon:"%5B%E5%BA%86%E7%A5%9D%5D.png"},{id:"002143",text:"[元气满满]",icon:"%5B%E5%85%83%E6%B0%94%E6%BB%A1%E6%BB%A1%5D.png"},{id:"002128",text:"[看手机]",icon:"%5B%E7%9C%8B%E6%89%8B%E6%9C%BA%5D.png"},{id:"002132",text:"[你没事吧]",icon:"%5B%E4%BD%A0%E6%B2%A1%E4%BA%8B%E5%90%A7%5D.png"},{id:"002144",text:"[尊嘟假嘟]",icon:"%5B%E5%B0%8A%E5%98%9F%E5%81%87%E5%98%9F%5D.png"},{id:"002113",text:"[拜托拜托]",icon:"%5B%E6%8B%9C%E6%89%98%E6%8B%9C%E6%89%98%5D.png"},{id:"002136",text:"[敲木鱼]",icon:"%5B%E6%95%B2%E6%9C%A8%E9%B1%BC%5D.png"},{id:"002142",text:"[休息]",icon:"%5B%E4%BC%91%E6%81%AF%5D.png"},{id:"002122",text:"[疯狂打工人]",icon:"%5B%E7%96%AF%E7%8B%82%E6%89%93%E5%B7%A5%E4%BA%BA%5D.png"},{id:"002091",text:"[打工人]",icon:"%5B%E6%89%93%E5%B7%A5%E4%BA%BA%5D.png"},{id:"002124",text:"[干饭]",icon:"%5B%E5%B9%B2%E9%A5%AD%5D.png"},{id:"002133",text:"[困]",icon:"%5B%E5%9B%B0%5D.png"},{id:"002134",text:"[强颜欢笑]",icon:"%5B%E5%BC%BA%E9%A2%9C%E6%AC%A2%E7%AC%91%5D.png"},{id:"002129",text:"[略略略]",icon:"%5B%E7%95%A5%E7%95%A5%E7%95%A5%5D.png"},{id:"002074",text:"[饮酒醉]",icon:"%5B%E9%A5%AE%E9%85%92%E9%86%89%5D.png"},{id:"002112",text:"[粑粑]",icon:"%5B%E7%B2%91%E7%B2%91%5D.png"},{id:"002140",text:"[无奈]",icon:"%5B%E6%97%A0%E5%A5%88%5D.png"},{id:"002119",text:"[宕机]",icon:"%5B%E5%AE%95%E6%9C%BA%5D.png"},{id:"002115",text:"[表面微笑]",icon:"%5B%E8%A1%A8%E9%9D%A2%E5%BE%AE%E7%AC%91%5D.png"},{id:"002116",text:"[表面嘻嘻]",icon:"%5B%E8%A1%A8%E9%9D%A2%E5%98%BB%E5%98%BB%5D.png"},{id:"002125",text:"[讲八卦]",icon:"%5B%E8%AE%B2%E5%85%AB%E5%8D%A6%5D.png"},{id:"002138",text:"[贴贴]",icon:"%5B%E8%B4%B4%E8%B4%B4%5D.png"},{id:"002120",text:"[得了您勒]",icon:"%5B%E5%BE%97%E4%BA%86%E6%82%A8%E5%8B%92%5D.png"},{id:"002127",text:"[卷]",icon:"%5B%E5%8D%B7%5D.png"},{id:"002131",text:"[摸鱼]",icon:"%5B%E6%91%B8%E9%B1%BC%5D.png"},{id:"002011",text:"[撒欢]",icon:"%5B%E6%92%92%E6%AC%A2%5D.png"},{id:"002126",text:"[中国队加油]",icon:"%5B%E4%B8%AD%E5%9B%BD%E9%98%9F%E5%8A%A0%E6%B2%B9%5D.png"},{id:"002111",text:"[高考必胜]",icon:"%5B%E9%AB%98%E8%80%83%E5%BF%85%E8%83%9C%5D.png"},{id:"002108",text:"[考的全会]",icon:"%5B%E8%80%83%E7%9A%84%E5%85%A8%E4%BC%9A%5D.png"},{id:"002118",text:"[打招呼]",icon:"%5B%E6%89%93%E6%8B%9B%E5%91%BC%5D.png"},{id:"002049",text:"[再见]",icon:"%5B%E5%86%8D%E8%A7%81%5D.png"},{id:"002070",text:"[暗中观察]",icon:"%5B%E6%9A%97%E4%B8%AD%E8%A7%82%E5%AF%9F%5D.png"},{id:"002071",text:"[打脸]",icon:"%5B%E6%89%93%E8%84%B8%5D.png"},{id:"002025",text:"[期待]",icon:"%5B%E6%9C%9F%E5%BE%85%5D.png"},{id:"002110",text:"[西瓜]",icon:"%5B%E8%A5%BF%E7%93%9C%5D.png"},{id:"002109",text:"[可乐]",icon:"%5B%E5%8F%AF%E4%B9%90%5D.png"},{id:"002060",text:"[咒骂]",icon:"%5B%E5%92%92%E9%AA%82%5D.png"},{id:"002061",text:"[前面的别走]",icon:"%5B%E5%89%8D%E9%9D%A2%E7%9A%84%E5%88%AB%E8%B5%B0%5D.png"},{id:"002036",text:"[流泪]",icon:"%5B%E6%B5%81%E6%B3%AA%5D.png"},{id:"002034",text:"[泪奔]",icon:"%5B%E6%B3%AA%E5%A5%94%5D.png"},{id:"002094",text:"[鲜花]",icon:"%5B%E9%B2%9C%E8%8A%B1%5D.png"},{id:"002106",text:"[气球]",icon:"%5B%E6%B0%94%E7%90%83%5D.png"},{id:"002114",text:"[鞭炮]",icon:"%5B%E9%9E%AD%E7%82%AE%5D.png"},{id:"002032",text:"[不高兴]",icon:"%5B%E4%B8%8D%E9%AB%98%E5%85%B4%5D.png"},{id:"002009",text:"[挤眼]",icon:"%5B%E6%8C%A4%E7%9C%BC%5D.png"},{id:"002059",text:"[抓狂]",icon:"%5B%E6%8A%93%E7%8B%82%5D.png"},{id:"002039",text:"[费解]",icon:"%5B%E8%B4%B9%E8%A7%A3%5D.png"},{id:"002035",text:"[大哭]",icon:"%5B%E5%A4%A7%E5%93%AD%5D.png"},{id:"002075",text:"[额]",icon:"%5B%E9%A2%9D%5D.png"},{id:"002072",text:"[悲伤]",icon:"%5B%E6%82%B2%E4%BC%A4%5D.png"},{id:"002047",text:"[啊]",icon:"%5B%E5%95%8A%5D.png"},{id:"002066",text:"[嘘]",icon:"%5B%E5%98%98%5D.png"},{id:"002028",text:"[没眼看]",icon:"%5B%E6%B2%A1%E7%9C%BC%E7%9C%8B%5D.png"},{id:"002029",text:"[偷笑]",icon:"%5B%E5%81%B7%E7%AC%91%5D.png"},{id:"002050",text:"[并不简单]",icon:"%5B%E5%B9%B6%E4%B8%8D%E7%AE%80%E5%8D%95%5D.png"},{id:"002048",text:"[生病]",icon:"%5B%E7%94%9F%E7%97%85%5D.png"},{id:"002065",text:"[呕]",icon:"%5B%E5%91%95%5D.png"},{id:"002041",text:"[嘿哈]",icon:"%5B%E5%98%BF%E5%93%88%5D.png"},{id:"002137",text:"[ok啊]",icon:"%5Bok%E5%95%8A%5D.png"},{id:"002031",text:"[欧耶]",icon:"%5B%E6%AC%A7%E8%80%B6%5D.png"},{id:"002067",text:"[拒绝]",icon:"%5B%E6%8B%92%E7%BB%9D%5D.png"},{id:"002068",text:"[观望]",icon:"%5B%E8%A7%82%E6%9C%9B%5D.png"},{id:"002069",text:"[走你]",icon:"%5B%E8%B5%B0%E4%BD%A0%5D.png"},{id:"002038",text:"[委屈]",icon:"%5B%E5%A7%94%E5%B1%88%5D.png"},{id:"002085",text:"[害羞]",icon:"%5B%E5%AE%B3%E7%BE%9E%5D.png"},{id:"002055",text:"[顶]",icon:"%5B%E9%A1%B6%5D.png"},{id:"002056",text:"[感冒]",icon:"%5B%E6%84%9F%E5%86%92%5D.png"},{id:"002057",text:"[emmm]",icon:"%5Bemmm%5D.png"},{id:"002053",text:"[坏笑]",icon:"%5B%E5%9D%8F%E7%AC%91%5D.png"},{id:"002040",text:"[晕]",icon:"%5B%E6%99%95%5D.png"},{id:"002076",text:"[凝视]",icon:"%5B%E5%87%9D%E8%A7%86%5D.png"},{id:"002062",text:"[友军]",icon:"%5B%E5%8F%8B%E5%86%9B%5D.png"},{id:"002063",text:"[互粉]",icon:"%5B%E4%BA%92%E7%B2%89%5D.png"},{id:"002064",text:"[加油啊]",icon:"%5B%E5%8A%A0%E6%B2%B9%E5%95%8A%5D.png"},{id:"002054",text:"[亲亲]",icon:"%5B%E4%BA%B2%E4%BA%B2%5D.png"},{id:"002058",text:"[摸头]",icon:"%5B%E6%91%B8%E5%A4%B4%5D.png"},{id:"002030",text:"[你懂的]",icon:"%5B%E4%BD%A0%E6%87%82%E7%9A%84%5D.png"},{id:"002046",text:"[惊哭]",icon:"%5B%E6%83%8A%E5%93%AD%5D.png"},{id:"002051",text:"[白眼]",icon:"%5B%E7%99%BD%E7%9C%BC%5D.png"},{id:"002081",text:"[吃鲸]",icon:"%5B%E5%90%83%E9%B2%B8%5D.png"},{id:"002079",text:"[裂开]",icon:"%5B%E8%A3%82%E5%BC%80%5D.png"},{id:"002052",text:"[开心]",icon:"%5B%E5%BC%80%E5%BF%83%5D.png"},{id:"002073",text:"[爱你]",icon:"%5B%E7%88%B1%E4%BD%A0%5D.png"},{id:"002033",text:"[尬笑]",icon:"%5B%E5%B0%AC%E7%AC%91%5D.png"},{id:"002086",text:"[黑线]",icon:"%5B%E9%BB%91%E7%BA%BF%5D.png"},{id:"002135",text:"[强壮]",icon:"%5B%E5%BC%BA%E5%A3%AE%5D.png"},{id:"002102",text:"[ok]",icon:"%5Bok%5D.png"},{id:"002139",text:"[握拳]",icon:"%5B%E6%8F%A1%E6%8B%B3%5D.png"},{id:"002099",text:"[haha]",icon:"%5Bhaha%5D.png"},{id:"002100",text:"[耶]",icon:"%5B%E8%80%B6%5D.png"},{id:"002101",text:"[握手]",icon:"%5B%E6%8F%A1%E6%89%8B%5D.png"},{id:"002103",text:"[来]",icon:"%5B%E6%9D%A5%5D.png"},{id:"002014",text:"[财神]",icon:"%5B%E8%B4%A2%E7%A5%9E%5D.png"},{id:"002015",text:"[红包]",icon:"%5B%E7%BA%A2%E5%8C%85%5D.png"},{id:"002123",text:"[福到]",icon:"%5B%E7%A6%8F%E5%88%B0%5D.png"},{id:"002017",text:"[钱袋]",icon:"%5B%E9%92%B1%E8%A2%8B%5D.png"},{id:"002016",text:"[灯笼]",icon:"%5B%E7%81%AF%E7%AC%BC%5D.png"},{id:"002018",text:"[2024]",icon:"%5B2024%5D.png"},{id:"002141",text:"[舞狮]",icon:"%5B%E8%88%9E%E7%8B%AE%5D.png"},{id:"002020",text:"[小雪人]",icon:"%5B%E5%B0%8F%E9%9B%AA%E4%BA%BA%5D.png"},{id:"002087",text:"[圣诞树]",icon:"%5B%E5%9C%A3%E8%AF%9E%E6%A0%91%5D.png"},{id:"002130",text:"[麻将]",icon:"%5B%E9%BA%BB%E5%B0%86%5D.png"},{id:"002117",text:"[雪糕]",icon:"%5B%E9%9B%AA%E7%B3%95%5D.png"},{id:"002107",text:"[游戏手柄]",icon:"%5B%E6%B8%B8%E6%88%8F%E6%89%8B%E6%9F%84%5D.png"},{id:"001332",text:"[郁金香]",icon:"%5B%E9%83%81%E9%87%91%E9%A6%99%5D.png"},{id:"001325",text:"[福贴]",icon:"%5B%E7%A6%8F%E8%B4%B4%5D.png"},{id:"001326",text:"[醒狮]",icon:"%5B%E9%86%92%E7%8B%AE%5D.png"},{id:"001329",text:"[平安]",icon:"%5B%E5%B9%B3%E5%AE%89%5D.png"},{id:"001330",text:"[爆竹]",icon:"%5B%E7%88%86%E7%AB%B9%5D.png"},{id:"001331",text:"[元宵]",icon:"%5B%E5%85%83%E5%AE%B5%5D.png"},{id:"001277",text:"[高考加油]",icon:"%5B%E9%AB%98%E8%80%83%E5%8A%A0%E6%B2%B9%5D.png"},{id:"001278",text:"[金榜题名]",icon:"%5B%E9%87%91%E6%A6%9C%E9%A2%98%E5%90%8D%5D.png"},{id:"001247",text:"[雪花]",icon:"%5B%E9%9B%AA%E8%8A%B1%5D.png"},{id:"001315",text:"[奖杯]",icon:"%5B%E5%A5%96%E6%9D%AF%5D.png"},{id:"001266",text:"[金牌]",icon:"%5B%E9%87%91%E7%89%8C%5D.png"},{id:"001274",text:"[银牌]",icon:"%5B%E9%93%B6%E7%89%8C%5D.png"},{id:"001275",text:"[铜牌]",icon:"%5B%E9%93%9C%E7%89%8C%5D.png"},{id:"001013",text:"[哼]",icon:"%5B%E5%93%BC%5D.png"},{id:"001228",text:"[挠头]",icon:"%5B%E6%8C%A0%E5%A4%B4%5D.png"},{id:"001026",text:"[疑问]",icon:"%5B%E7%96%91%E9%97%AE%5D.png"},{id:"001226",text:"[苦思冥想]",icon:"%5B%E8%8B%A6%E6%80%9D%E5%86%A5%E6%83%B3%5D.png"},{id:"001051",text:"[爱钱]",icon:"%5B%E7%88%B1%E9%92%B1%5D.png"},{id:"001241",text:"[石化]",icon:"%5B%E7%9F%B3%E5%8C%96%5D.png"},{id:"001041",text:"[衰]",icon:"%5B%E8%A1%B0%5D.png"},{id:"001042",text:"[骷髅]",icon:"%5B%E9%AA%B7%E9%AB%85%5D.png"},{id:"001036",text:"[哈欠]",icon:"%5B%E5%93%88%E6%AC%A0%5D.png"},{id:"001218",text:"[社会]",icon:"%5B%E7%A4%BE%E4%BC%9A%5D.png"},{id:"001216",text:"[嫌弃]",icon:"%5B%E5%AB%8C%E5%BC%83%5D.png"},{id:"001221",text:"[撇嘴]",icon:"%5B%E6%92%87%E5%98%B4%5D.png"},{id:"001188",text:"[馋嘴]",icon:"%5B%E9%A6%8B%E5%98%B4%5D.png"},{id:"001203",text:"[思考]",icon:"%5B%E6%80%9D%E8%80%83%5D.png"},{id:"001220",text:"[耶耶耶]",icon:"%5B%E8%80%B6%E8%80%B6%E8%80%B6%5D.png"},{id:"001044",text:"[闭嘴]",icon:"%5B%E9%97%AD%E5%98%B4%5D.png"},{id:"001209",text:"[右哼哼]",icon:"%5B%E5%8F%B3%E5%93%BC%E5%93%BC%5D.png"},{id:"001210",text:"[左哼哼]",icon:"%5B%E5%B7%A6%E5%93%BC%E5%93%BC%5D.png"},{id:"001202",text:"[失望]",icon:"%5B%E5%A4%B1%E6%9C%9B%5D.png"},{id:"001017",text:"[囧]",icon:"%5B%E5%9B%A7%5D.png"},{id:"001049",text:"[同上]",icon:"%5B%E5%90%8C%E4%B8%8A%5D.png"},{id:"001227",text:"[奥利给]",icon:"%5B%E5%A5%A5%E5%88%A9%E7%BB%99%5D.png"},{id:"001232",text:"[nonono]",icon:"%5Bnonono%5D.png"},{id:"001237",text:"[戳脸]",icon:"%5B%E6%88%B3%E8%84%B8%5D.png"},{id:"001230",text:"[无所谓]",icon:"%5B%E6%97%A0%E6%89%80%E8%B0%93%5D.png"},{id:"001010",text:"[哟]",icon:"%5B%E5%93%9F%5D.png"},{id:"001233",text:"[握草]",icon:"%5B%E6%8F%A1%E8%8D%89%5D.png"},{id:"001234",text:"[苦笑]",icon:"%5B%E8%8B%A6%E7%AC%91%5D.png"},{id:"001032",text:"[阴险]",icon:"%5B%E9%98%B4%E9%99%A9%5D.png"},{id:"001045",text:"[呆]",icon:"%5B%E5%91%86%5D.png"},{id:"001168",text:"[太开心]",icon:"%5B%E5%A4%AA%E5%BC%80%E5%BF%83%5D.png"},{id:"001006",text:"[悠闲]",icon:"%5B%E6%82%A0%E9%97%B2%5D.png"},{id:"001046",text:"[什么鬼]",icon:"%5B%E4%BB%80%E4%B9%88%E9%AC%BC%5D.png"},{id:"001047",text:"[吐]",icon:"%5B%E5%90%90%5D.png"},{id:"001008",text:"[不要啊]",icon:"%5B%E4%B8%8D%E8%A6%81%E5%95%8A%5D.png"},{id:"001175",text:"[武汉加油]",icon:"%5B%E6%AD%A6%E6%B1%89%E5%8A%A0%E6%B2%B9%5D.png"},{id:"001258",text:"[叹气]",icon:"%5B%E5%8F%B9%E6%B0%94%5D.png"},{id:"001048",text:"[已阅]",icon:"%5B%E5%B7%B2%E9%98%85%5D.png"},{id:"001162",text:"[男孩儿]",icon:"%5B%E7%94%B7%E5%AD%A9%E5%84%BF%5D.png"},{id:"001163",text:"[女孩儿]",icon:"%5B%E5%A5%B3%E5%AD%A9%E5%84%BF%5D.png"},{id:"001185",text:"[抱抱]",icon:"%5B%E6%8A%B1%E6%8A%B1%5D.png"},{id:"001193",text:"[跪了]",icon:"%5B%E8%B7%AA%E4%BA%86%5D.png"},{id:"001204",text:"[摊手]",icon:"%5B%E6%91%8A%E6%89%8B%5D.png"},{id:"001167",text:"[酸]",icon:"%5B%E9%85%B8%5D.png"},{id:"001074",text:"[666]",icon:"%5B666%5D.png"},{id:"001123",text:"[勤洗手]",icon:"%5B%E5%8B%A4%E6%B4%97%E6%89%8B%5D.png"},{id:"001125",text:"[n95口罩]",icon:"%5Bn95%E5%8F%A3%E7%BD%A9%5D.png"},{id:"001062",text:"[蜡烛]",icon:"%5B%E8%9C%A1%E7%83%9B%5D.png"},{id:"001160",text:"[礼物]",icon:"%5B%E7%A4%BC%E7%89%A9%5D.png"},{id:"001176",text:"[喜]",icon:"%5B%E5%96%9C%5D.png"},{id:"001150",text:"[旅行]",icon:"%5B%E6%97%85%E8%A1%8C%5D.png"},{id:"001173",text:"[围脖]",icon:"%5B%E5%9B%B4%E8%84%96%5D.png"},{id:"001097",text:"[祈福]",icon:"%5B%E7%A5%88%E7%A6%8F%5D.png"},{id:"001200",text:"[拳头]",icon:"%5B%E6%8B%B3%E5%A4%B4%5D.png"},{id:"001213",text:"[NO]",icon:"%5BNO%5D.png"},{id:"001184",text:"[good]",icon:"%5Bgood%5D.png"},{id:"001105",text:"[小黄鸭]",icon:"%5B%E5%B0%8F%E9%BB%84%E9%B8%AD%5D.png"},{id:"001102",text:"[泡泡枪]",icon:"%5B%E6%B3%A1%E6%B3%A1%E6%9E%AA%5D.png"},{id:"001104",text:"[棒棒糖]",icon:"%5B%E6%A3%92%E6%A3%92%E7%B3%96%5D.png"},{id:"001114",text:"[小老鼠]",icon:"%5B%E5%B0%8F%E8%80%81%E9%BC%A0%5D.png"},{id:"001199",text:"[喵喵]",icon:"%5B%E5%96%B5%E5%96%B5%5D.png"},{id:"001183",text:"[猪头]",icon:"%5B%E7%8C%AA%E5%A4%B4%5D.png"},{id:"001053",text:"[国宝]",icon:"%5B%E5%9B%BD%E5%AE%9D%5D.png"},{id:"001054",text:"[羊驼]",icon:"%5B%E7%BE%8A%E9%A9%BC%5D.png"},{id:"001170",text:"[兔子]",icon:"%5B%E5%85%94%E5%AD%90%5D.png"},{id:"001174",text:"[围观]",icon:"%5B%E5%9B%B4%E8%A7%82%5D.png"},{id:"001058",text:"[生日蛋糕]",icon:"%5B%E7%94%9F%E6%97%A5%E8%9B%8B%E7%B3%95%5D.png"},{id:"001149",text:"[奥特曼]",icon:"%5B%E5%A5%A5%E7%89%B9%E6%9B%BC%5D.png"},{id:"001061",text:"[药丸]",icon:"%5B%E8%8D%AF%E4%B8%B8%5D.png"},{id:"001063",text:"[鸡蛋]",icon:"%5B%E9%B8%A1%E8%9B%8B%5D.png"},{id:"001155",text:"[干杯]",icon:"%5B%E5%B9%B2%E6%9D%AF%5D.png"},{id:"001180",text:"[炸鸡腿]",icon:"%5B%E7%82%B8%E9%B8%A1%E8%85%BF%5D.png"},{id:"001152",text:"[肥皂]",icon:"%5B%E8%82%A5%E7%9A%82%5D.png"},{id:"001171",text:"[威武]",icon:"%5B%E5%A8%81%E6%AD%A6%5D.png"},{id:"001157",text:"[给你小心心]",icon:"%5B%E7%BB%99%E4%BD%A0%E5%B0%8F%E5%BF%83%E5%BF%83%5D.png"},{id:"001178",text:"[音乐]",icon:"%5B%E9%9F%B3%E4%B9%90%5D.png"},{id:"001082",text:"[火车]",icon:"%5B%E7%81%AB%E8%BD%A6%5D.png"},{id:"001083",text:"[飞机]",icon:"%5B%E9%A3%9E%E6%9C%BA%5D.png"},{id:"001158",text:"[话筒]",icon:"%5B%E8%AF%9D%E7%AD%92%5D.png"},{id:"001182",text:"[钟]",icon:"%5B%E9%92%9F%5D.png"},{id:"001181",text:"[照相机]",icon:"%5B%E7%85%A7%E7%9B%B8%E6%9C%BA%5D.png"},{id:"001161",text:"[绿丝带]",icon:"%5B%E7%BB%BF%E4%B8%9D%E5%B8%A6%5D.png"},{id:"001172",text:"[微风]",icon:"%5B%E5%BE%AE%E9%A3%8E%5D.png"},{id:"001169",text:"[太阳]",icon:"%5B%E5%A4%AA%E9%98%B3%5D.png"},{id:"001126",text:"[月亮]",icon:"%5B%E6%9C%88%E4%BA%AE%5D.png"},{id:"001153",text:"[浮云]",icon:"%5B%E6%B5%AE%E4%BA%91%5D.png"},{id:"001177",text:"[下雨]",icon:"%5B%E4%B8%8B%E9%9B%A8%5D.png"},{id:"001164",text:"[沙尘暴]",icon:"%5B%E6%B2%99%E5%B0%98%E6%9A%B4%5D.png"},{id:"001179",text:"[赞啊]",icon:"%5B%E8%B5%9E%E5%95%8A%5D.png"},{id:"001254",text:"[牛斯拉]",icon:"%5B%E7%89%9B%E6%96%AF%E6%8B%89%5D.png"},{id:"001255",text:"[云喝酒]",icon:"%5B%E4%BA%91%E5%96%9D%E9%85%92%5D.png"},{id:"001268",text:"[星星]",icon:"%5B%E6%98%9F%E6%98%9F%5D.png"},{id:"001269",text:"[半星]",icon:"%5B%E5%8D%8A%E6%98%9F%5D.png"},{id:"001267",text:"[牛啤]",icon:"%5B%E7%89%9B%E5%95%A4%5D.png"},{id:"001276",text:"[滑雪]",icon:"%5B%E6%BB%91%E9%9B%AA%5D.png"},{id:"001242",text:"[工人]",icon:"%5B%E5%B7%A5%E4%BA%BA%5D.png"},{id:"001243",text:"[农民]",icon:"%5B%E5%86%9C%E6%B0%91%5D.png"},{id:"001244",text:"[稻草人]",icon:"%5B%E7%A8%BB%E8%8D%89%E4%BA%BA%5D.png"},{id:"001245",text:"[锦旗]",icon:"%5B%E9%94%A6%E6%97%97%5D.png"},{id:"001246",text:"[大红花]",icon:"%5B%E5%A4%A7%E7%BA%A2%E8%8A%B1%5D.png"},{id:"001127",text:"[→_→]",icon:"%5B%E2%86%92_%E2%86%92%5D.png"},{id:"001035",text:"[睡觉]",icon:"%5B%E7%9D%A1%E8%A7%89%5D.png"},{id:"001059",text:"[MicDrop]",icon:"%5BMicDrop%5D.png"},{id:"001064",text:"[浪]",icon:"%5B%E6%B5%AA%5D.png"},{id:"001080",text:"[饺子]",icon:"%5B%E9%A5%BA%E5%AD%90%5D.png"},{id:"001081",text:"[车票]",icon:"%5B%E8%BD%A6%E7%A5%A8%5D.png"},{id:"001084",text:"[射门]",icon:"%5B%E5%B0%84%E9%97%A8%5D.png"},{id:"001085",text:"[红牌]",icon:"%5B%E7%BA%A2%E7%89%8C%5D.png"},{id:"001086",text:"[黄牌]",icon:"%5B%E9%BB%84%E7%89%8C%5D.png"},{id:"001087",text:"[哨子]",icon:"%5B%E5%93%A8%E5%AD%90%5D.png"},{id:"001088",text:"[比分]",icon:"%5B%E6%AF%94%E5%88%86%5D.png"},{id:"001089",text:"[啤酒]",icon:"%5B%E5%95%A4%E9%85%92%5D.png"},{id:"001090",text:"[足球]",icon:"%5B%E8%B6%B3%E7%90%83%5D.png"},{id:"001091",text:"[大力神杯]",icon:"%5B%E5%A4%A7%E5%8A%9B%E7%A5%9E%E6%9D%AF%5D.png"},{id:"001092",text:"[锦鲤]",icon:"%5B%E9%94%A6%E9%B2%A4%5D.png"},{id:"001096",text:"[火焰]",icon:"%5B%E7%81%AB%E7%84%B0%5D.png"},{id:"001099",text:"[天使]",icon:"%5B%E5%A4%A9%E4%BD%BF%5D.png"},{id:"001100",text:"[樱花]",icon:"%5B%E6%A8%B1%E8%8A%B1%5D.png"},{id:"001106",text:"[粽子]",icon:"%5B%E7%B2%BD%E5%AD%90%5D.png"},{id:"001107",text:"[70周年]",icon:"%5B70%E5%91%A8%E5%B9%B4%5D.png"},{id:"001108",text:"[国庆]",icon:"%5B%E5%9B%BD%E5%BA%86%5D.png"},{id:"001109",text:"[国庆快乐]",icon:"%5B%E5%9B%BD%E5%BA%86%E5%BF%AB%E4%B9%90%5D.png"},{id:"001110",text:"[圣诞老人]",icon:"%5B%E5%9C%A3%E8%AF%9E%E8%80%81%E4%BA%BA%5D.png"},{id:"001112",text:"[圣诞袜]",icon:"%5B%E5%9C%A3%E8%AF%9E%E8%A2%9C%5D.png"},{id:"001113",text:"[铃铛]",icon:"%5B%E9%93%83%E9%93%9B%5D.png"},{id:"001121",text:"[戴口罩]",icon:"%5B%E6%88%B4%E5%8F%A3%E7%BD%A9%5D.png"},{id:"001128",text:"[⚡]",icon:"%5B%E2%9A%A1%5D.png"},{id:"001129",text:"[🍉]",icon:"%5B%F0%9F%8D%89%5D.png"},{id:"001130",text:"[🍗]",icon:"%5B%F0%9F%8D%97%5D.png"},{id:"001131",text:"[🎄]",icon:"%5B%F0%9F%8E%84%5D.png"},{id:"001132",text:"[👏]",icon:"%5B%F0%9F%91%8F%5D.png"},{id:"001133",text:"[👻]",icon:"%5B%F0%9F%91%BB%5D.png"},{id:"001134",text:"[💊]",icon:"%5B%F0%9F%92%8A%5D.png"},{id:"001135",text:"[💣]",icon:"%5B%F0%9F%92%A3%5D.png"},{id:"001136",text:"[💩]",icon:"%5B%F0%9F%92%A9%5D.png"},{id:"001137",text:"[🤓]",icon:"%5B%F0%9F%A4%93%5D.png"},{id:"001138",text:"[🤗]",icon:"%5B%F0%9F%A4%97%5D.png"},{id:"001139",text:"[👿]",icon:"%5B%F0%9F%91%BF%5D.png"},{id:"001140",text:"[😱]",icon:"%5B%F0%9F%98%B1%5D.png"},{id:"001141",text:"[🙃]",icon:"%5B%F0%9F%99%83%5D.png"},{id:"001142",text:"[🙅]",icon:"%5B%F0%9F%99%85%5D.png"},{id:"001143",text:"[🙈]",icon:"%5B%F0%9F%99%88%5D.png"},{id:"001144",text:"[🙉]",icon:"%5B%F0%9F%99%89%5D.png"},{id:"001145",text:"[🙊]",icon:"%5B%F0%9F%99%8A%5D.png"},{id:"001146",text:"[🙋]",icon:"%5B%F0%9F%99%8B%5D.png"},{id:"001147",text:"[🙏]",icon:"%5B%F0%9F%99%8F%5D.png"},{id:"001313",text:"[发]",icon:"%5B%E5%8F%91%5D.png"},{id:"001101",text:"[加油]",icon:"%5B%E5%8A%A0%E6%B2%B9%5D.png"},{id:"001280",text:"[锦鲤附体]",icon:"%5B%E9%94%A6%E9%B2%A4%E9%99%84%E4%BD%93%5D.png"}]}]},mt=g(xt.packages,1)[0],bt=mt.emoticons;mt.blacklist,mt.version,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt;/(iPhone|iPod|iPad)/.test(t)}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-interact-rich-text{padding-top:10px;font:14px/22px PingFangSC-Regular;color:#222;text-align:justify;word-wrap:break-word;word-break:break-all;word-break:break-word}.x-interact-rich-text>a{text-decoration:none}.x-interact-rich-text .type-at,.x-interact-rich-text .type-image,.x-interact-rich-text .type-link,.x-interact-rich-text .type-topic,.x-interact-rich-text .type-video,.x-interact-rich-text .type-vote{color:#4367b4;cursor:pointer}.x-interact-rich-text .invalid-href.type-at{color:#858585;pointer-events:none}.x-interact-rich-text .type-emoji{width:14px;margin-top:-4px;background-size:100%}.x-interact-rich-text .type-emoji,.x-interact-rich-text .type-label{display:inline-block;height:14px;background-repeat:no-repeat;background-position:50% 50%;vertical-align:middle}.x-interact-rich-text .type-label{width:42px;margin-top:-2px;background-size:cover}.x-interact-rich-text .type-label-1{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-hot-level-1.png)}.x-interact-rich-text .type-label-2{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-hot-level-2.png)}.x-interact-rich-text-is-author{padding:0 .03rem;font-size:.1rem;color:#4d6df2;background:#e4eaff;border-radius:.03rem}.x-interact-rich-text-colon,.x-interact-rich-text-uname{color:#858585}");var vt="x-interact-rich-text",yt={1:"at",3:"link",4:"image"},Et={1:"link",2:"video",3:"vote"},Bt=["at","topic","link","video","vote"],kt=function kt(t){return"https://author.baidu.com/home?context=%7B%22uk%22%3A%22".concat(t,"%22%7D")},wt=(xt||{}).imgpath||"https://mbdp03.bdstatic.com/sdks/emoticon/img/",Dt=function(t){l(i,t);var e=h(i);function i(t){return n(this,i),t.customCls="rich-text",e.call(this,t)}return o(i,[{key:"bindEvent",value:function value(t){var e=this.root=t.querySelector(".".concat("rich-text",'[data-reply-id="').concat(this.replyId,'"]'));this.root&&G(e,".type-image","click",(function(t){var e=t.target.dataset;!function(t){var e=new ft(t);e.render()}({list:[{width:e.width,height:e.height,url:e.url}]})}))}}]),i}(function(){function t(e){n(this,t),this.content=e.content,this.contentRich=e.contentRich,this.replyToComment=e.replyToComment,this.hotLevel=e.hotLevel,this.replyId=e.replyId,this.getHomePage=e.getHomePage||kt,this.customCls=e.customCls||"",this.uname=e.uname,this.isAuthor=e.isAuthor,this.richTypeMap=yt,this.showViewImgText=e.showViewImgText||!1}return o(t,[{key:"makeTpl",value:function value(t){var e=this.formatRichText();return e.length?'\n            <div class="'.concat(vt," ").concat(this.customCls,'" data-reply-id="').concat(this.replyId,'">\n                ').concat(this.uname?'<span class="'.concat(vt,'-uname">').concat(this.uname,"</span>"):"","\n                ").concat(this.isAuthor?'<span class="'.concat(vt,'-is-author">作者</span>'):"","\n                ").concat(this.uname||this.isAuthor?'<span class="'.concat(vt,'-colon">:</span>'):"","\n                ").concat(e.map((function(t){return Bt.indexOf(t.type)>-1?'\n                            <a\n                                class="'.concat(t.class," ").concat(t.url?"":"invalid-href",'"\n                                href="').concat(t.url,'"\n                                ').concat(t.style?"style=".concat(t.style):"","\n                            >").concat(t.text,"</a>\n                        "):'\n                        <span\n                            class="'.concat(t.class,'"\n                            ').concat(t.style?"style=".concat(t.style):"","\n                            ").concat("image"===t.type?"data-url=".concat(t.url," data-width=").concat(t.width," data-height=").concat(t.height):"","\n                        >").concat((e=t.text,e=String(e).replace(/</g,"&lt;").replace(/>/g,"&gt;")),"</span>\n                    ");var e})).join(""),"\n                ").concat(t||"","\n            </div>\n        "):""}},{key:"formatRichText",value:function value(){var t=this,e=this.sliceByRich(this.content,this.contentRich,!this.showViewImgText);if(this.replyToComment&&this.replyToComment.length){var n=[];this.replyToComment.map((function(e){var i=e.user||{},o=i.uname,a=i.uk,r=i.is_bjh_author;n=n.concat([{type:"text",text:" // ",class:"type-text"},{type:"at",text:"@".concat(o),class:"type-at ".concat(r?"is-bjh-author":""),uk:a,url:t.getHomePage(a)},{type:"text",text:"：",class:"type-text"}],t.sliceByRich(e.content,e.content_rich,!1,e.image_list))})),e=e.concat(n)}return+this.hotLevel&&e.unshift({type:"label",text:"",class:"type-label type-label-".concat(this.hotLevel)}),e}},{key:"sliceByRich",value:function value(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0,a=[],r=0,c=o&&o.large||{};if(e&&e.length){var s=null;e.forEach((function(e){if(4==+e.type)s={type:"image",text:e.attr.text,class:"type-image",url:c.url||e.attr.url,width:c.width,height:c.height};else{r<e.start&&(a=a.concat(n.sliceByEmoji(t.slice(r,+e.start))),r=+e.start);var i=n.richTypeMap[+e.type]||"text";"link"===i&&(i=Et[+e.attr.icon]||"link");var o=t.slice(+e.start,+e.start+ +e.length);a.push({type:i,text:o,class:"type-".concat(i),uk:e.attr.uk||"",url:("at"===i?n.getHomePage(e.attr.uk):e.attr.link)||""}),r+=+e.length}})),r<t.length&&(a=a.concat(this.sliceByEmoji(t.slice(r)))),!i&&s&&a.push(s)}else a=x(this.sliceByEmoji(t));return a}},{key:"sliceByEmoji",value:function value(t){if(!t)return[];var e=/(\[.*?\])/;return t.split(e).filter((function(t){return t.length})).map((function(t){var n="text",i="type-text",o="",a=function(t){for(var e,n="",i=0;i<bt.length;i++){if((e=bt[i]).text===t){n=e.icon;break}}return n}(t);return e.test(t)&&a&&(n="emoji",i="type-emoji",o="background-image:url(".concat(wt).concat(a,"?t=").concat(Math.floor(Date.now()/1e3/60/60),")"),t=""),{type:n,text:t,style:o,class:i}}))}}]),t}());!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-interact-image{position:relative;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;border:1px solid rgba(0,0,0,.05);border-radius:12px;overflow:hidden}.x-interact-image-placeholder{position:absolute;left:0;top:0;width:100%;height:100%;background:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-bd-logo.png) 50% 50% no-repeat;background-size:50% 50%}.x-interact-image-thumb{position:relative;background-position:50% 50%;background-repeat:no-repeat;background-size:cover;height:auto;cursor:-webkit-zoom-in;cursor:zoom-in}.x-interact-image-thumb .tag{position:absolute;right:14px;bottom:14px;font-size:14px;text-shadow:0 0 5px rgba(0,0,0,.3);color:#fff}.x-interact-image-large{position:relative;display:none;width:100%;height:auto;cursor:-webkit-zoom-out;cursor:zoom-out}");var At=["","GIF","长图"],Ct="176px",St=function(t){l(i,t);var e=h(i);function i(t){var o;return n(this,i),(o=e.call(this,s(s({},t),{},{id:t.replyId,wrapperWidth:Ct,prefixCls:"image-scale"}))).isLarge=!1,o}return o(i,[{key:"bindEvent",value:function value(t){var e=this,n=t.querySelector('.image-scale[data-id="'.concat(this.id,'"]')),i=n.querySelector(".image-scale-thumb"),o=n.querySelector(".image-scale-large");G(n,".".concat("image-scale","-thumb"),"click",(function(t){n.style.width="100%",n.style.height="auto",i.style.display="none",o.style.display="block",e.isLarge=!0})),G(n,".".concat("image-scale","-large"),"click",(function(t){n.style.width=Ct,i.style.display="block",o.style.display="none",e.isLarge=!1}))}}]),i}(function(){function t(e){n(this,t),this.container=e.container,this.thumb=e.thumb,this.large=e.large,this.type=e.type||0,this.id=e.id,this.size=e.size||"1:1",this.scale=this.getScale(this.size);var i=e.wrapperWidth;this.wrapperStyle=e.wrapperStyle||(i?"width: ".concat(i):""),this.prefixCls=e.prefixCls||"x-interact-image"}return o(t,[{key:"render",value:function value(){if(this.container){var t=this.makeTpl();this.container.insertAdjacentHTML("beforeend",t)}}},{key:"makeTpl",value:function value(){var t=this.thumb;if(t){var e=["padding-top: ".concat(100*this.scale,"%"),"background-image: ".concat(t?"url(".concat(t,")"):"")].join(";"),n=this.prefixCls;return'\n            <div class="'.concat("x-interact-image"," ").concat(n,'"\n                ').concat(this.id?'data-id="'.concat(this.id,'"'):"",'\n                style="').concat(this.wrapperStyle,'"\n            >\n                <div class="').concat("x-interact-image","-placeholder ").concat(n,'-placeholder"></div>\n                <div class="').concat("x-interact-image","-thumb ").concat(n,'-thumb" style="').concat(e,'">\n                    ').concat(+this.type?'<span class="tag">'.concat(At[+this.type],"<span>"):"","\n                </div>\n                ").concat(this.large?'<img class="'.concat("x-interact-image","-large ").concat(n,'-large" src="').concat(this.large,'"/>'):"","\n            </div>\n        ")}}},{key:"getScale",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1:1",e=1,n=t.split(":")||[],i=+n[0];if(i>0){var o=+n[1]||0;e=o/i}return e}}]),t}());"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Tt,jt=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,n){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,n,i){var o="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)};t.exports={type:function type(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},isObject:function isObject(t,e){return e?"object"===this.type(t):t&&"object"===(void 0===t?"undefined":o(t))},isFormData:function isFormData(t){return"undefined"!=typeof FormData&&t instanceof FormData},trim:function trim(t){return t.replace(/(^\s*)|(\s*$)/g,"")},encode:function encode(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")},formatParams:function formatParams(t){var e="",n=!0,i=this;return this.isObject(t)?(function t(o,a){var r=i.encode,c=i.type(o);if("array"==c)o.forEach((function(e,n){i.isObject(e)||(n=""),t(e,a+"%5B"+n+"%5D")}));else if("object"==c)for(var s in o){t(o[s],a?a+"%5B"+r(s)+"%5D":r(s))}else n||(e+="&"),n=!1,e+=a+"="+r(o)}(t,""),e):t},merge:function merge(t,e){for(var n in e){t.hasOwnProperty(n)?this.isObject(e[n],1)&&this.isObject(t[n],1)&&this.merge(t[n],e[n]):t[n]=e[n]}return t}}},,function(t,e,n){var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a="undefined"!=typeof document,r=function(){function t(e){function n(t){function e(){t.p=n=i=null}var n=void 0,i=void 0;o.merge(t,{lock:function lock(){n||(t.p=new Promise((function(t,e){n=t,i=e})))},unlock:function unlock(){n&&(n(),e())},clear:function clear(){i&&(i("cancel"),e())}})}(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.engine=e||XMLHttpRequest,this.default=this;var i=this.interceptors={response:{use:function use(t,e){this.handler=t,this.onerror=e}},request:{use:function use(t){this.handler=t}}},a=i.request;n(i.response),n(a),this.config={method:"GET",baseURL:"",headers:{},timeout:0,params:{},parseJson:!0,withCredentials:!1}}return i(t,[{key:"request",value:function value(t,e,n){var i=this,r=new this.engine,c="Content-Type",s=c.toLowerCase(),l=this.interceptors,d=l.request,p=l.response,u=d.handler,h=new Promise((function(l,h){function f(t){return t&&t.then&&t.catch}function g(t,e){t?t.then((function(){e()})):e()}function x(n){function i(t,e,i){g(p.p,(function(){if(t){i&&(e.request=n);var o=t.call(p,e,Promise);e=void 0===o?e:o}f(e)||(e=Promise[0===i?"resolve":"reject"](e)),e.then((function(t){l(t)})).catch((function(t){h(t)}))}))}function d(t){t.engine=r,i(p.onerror,t,-1)}function u(t,e){this.message=t,this.status=e}e=n.body,t=o.trim(n.url);var x=o.trim(n.baseURL||"");if(t||!a||x||(t=location.href),0!==t.indexOf("http")){var m="/"===t[0];if(!x&&a){var b=location.pathname.split("/");b.pop(),x=location.protocol+"//"+location.host+(m?"":b.join("/"))}if("/"!==x[x.length-1]&&(x+="/"),t=x+(m?t.substr(1):t),a){var v=document.createElement("a");v.href=t,t=v.href}}var y=o.trim(n.responseType||""),E=-1!==["GET","HEAD","DELETE","OPTION"].indexOf(n.method),B=o.type(e),k=n.params||{};E&&"object"===B&&(k=o.merge(e,k));var w=[];(k=o.formatParams(k))&&w.push(k),E&&e&&"string"===B&&w.push(e),w.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+w.join("&")),r.open(n.method,t);try{r.withCredentials=!!n.withCredentials,r.timeout=n.timeout||0,"stream"!==y&&(r.responseType=y)}catch(t){}var D=n.headers[c]||n.headers[s],A="application/x-www-form-urlencoded";for(var C in o.trim((D||"").toLowerCase())===A?e=o.formatParams(e):o.isFormData(e)||-1===["object","array"].indexOf(o.type(e))||(A="application/json;charset=utf-8",e=JSON.stringify(e)),D||E||(n.headers[c]=A),n.headers){if(C===c&&o.isFormData(e))delete n.headers[C];else try{r.setRequestHeader(C,n.headers[C])}catch(t){}}r.onload=function(){try{var t=r.response||r.responseText;t&&n.parseJson&&-1!==(r.getResponseHeader(c)||"").indexOf("json")&&!o.isObject(t)&&(t=JSON.parse(t));var e=r.responseHeaders;if(!e){e={};var a=(r.getAllResponseHeaders()||"").split("\r\n");a.pop(),a.forEach((function(t){if(t){var n=t.split(":")[0];e[n]=r.getResponseHeader(n)}}))}var s=r.status,l=r.statusText,h={data:t,headers:e,status:s,statusText:l};if(o.merge(h,r._response),s>=200&&s<300||304===s)h.engine=r,h.request=n,i(p.handler,h,0);else{var f=new u(l,s);f.response=h,d(f)}}catch(f){d(new u(f.msg,r.status))}},r.onerror=function(t){d(new u(t.msg||"Network Error",0))},r.ontimeout=function(){d(new u("timeout [ "+r.timeout+"ms ]",1))},r._options=n,setTimeout((function(){r.send(E?null:e)}),0)}o.isObject(t)&&(t=(n=t).url),(n=n||{}).headers=n.headers||{},g(d.p,(function(){o.merge(n,JSON.parse(JSON.stringify(i.config)));var a=n.headers;a[c]=a[c]||a[s]||"",delete a[s],n.body=e||n.body,t=o.trim(t||""),n.method=n.method.toUpperCase(),n.url=t;var r=n;u&&(r=u.call(d,n,Promise)||n),f(r)||(r=Promise.resolve(r)),r.then((function(t){t===n?x(t):l(t)}),(function(t){h(t)}))}))}));return h.engine=r,h}},{key:"all",value:function value(t){return Promise.all(t)}},{key:"spread",value:function value(t){return function(e){return t.apply(null,e)}}}]),t}();r.default=r,["get","post","put","patch","head","delete"].forEach((function(t){r.prototype[t]=function(e,n,i){return this.request(e,n,o.merge({method:t},i))}})),["lock","unlock","clear"].forEach((function(t){r.prototype[t]=function(){this.interceptors.request[t]()}})),t.exports=r}])})),_t=(Tt=jt)&&Tt.__esModule&&Object.prototype.hasOwnProperty.call(Tt,"default")?Tt.default:Tt,Ft=Object.prototype.hasOwnProperty,It=Array.isArray,Pt=function(){for(var t=[],e=0;e<256;++e){t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase())}return t}(),Ot=function Ot(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i){void 0!==t[i]&&(n[i]=t[i])}return n},Lt={arrayToObject:Ot,assign:function assign(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function combine(t,e){return[].concat(t,e)},compact:function compact(t){for(var n=[{obj:{o:t},prop:"o"}],i=[],o=0;o<n.length;++o){for(var a=n[o],r=a.obj[a.prop],c=Object.keys(r),s=0;s<c.length;++s){var l=c[s],d=r[l];"object"===e(d)&&null!==d&&-1===i.indexOf(d)&&(n.push({obj:r,prop:l}),i.push(d))}}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(It(n)){for(var i=[],o=0;o<n.length;++o){void 0!==n[o]&&i.push(n[o])}e.obj[e.prop]=i}}}(n),t},decode:function decode(t,e,n){var i=t.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(t){return i}},encode:function encode(t,e,n){if(0===t.length)return t;var i="string"==typeof t?t:String(t);if("iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var o="",a=0;a<i.length;++a){var r=i.charCodeAt(a);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122?o+=i.charAt(a):r<128?o+=Pt[r]:r<2048?o+=Pt[192|r>>6]+Pt[128|63&r]:r<55296||r>=57344?o+=Pt[224|r>>12]+Pt[128|r>>6&63]+Pt[128|63&r]:(a+=1,r=65536+((1023&r)<<10|1023&i.charCodeAt(a)),o+=Pt[240|r>>18]+Pt[128|r>>12&63]+Pt[128|r>>6&63]+Pt[128|63&r])}return o},isBuffer:function isBuffer(t){return!(!t||"object"!==e(t))&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function isRegExp(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(n,i,o){if(!i)return n;if("object"!==e(i)){if(It(n))n.push(i);else{if(!n||"object"!==e(n))return[n,i];(o&&(o.plainObjects||o.allowPrototypes)||!Ft.call(Object.prototype,i))&&(n[i]=!0)}return n}if(!n||"object"!==e(n))return[n].concat(i);var a=n;return It(n)&&!It(i)&&(a=Ot(n,o)),It(n)&&It(i)?(i.forEach((function(i,a){if(Ft.call(n,a)){var r=n[a];r&&"object"===e(r)&&i&&"object"===e(i)?n[a]=t(r,i,o):n.push(i)}else n[a]=i})),n):Object.keys(i).reduce((function(e,n){var a=i[n];return Ft.call(e,n)?e[n]=t(e[n],a,o):e[n]=a,e}),a)}},Rt=String.prototype.replace,Nt=/%20/g,zt={default:"RFC3986",formatters:{RFC1738:function RFC1738(t){return Rt.call(t,Nt,"+")},RFC3986:function RFC3986(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"},Ht=Object.prototype.hasOwnProperty,Mt={brackets:function brackets(t){return t+"[]"},comma:"comma",indices:function indices(t,e){return t+"["+e+"]"},repeat:function repeat(t){return t}},Ut=Array.isArray,qt=Array.prototype.push,Vt=function Vt(t,e){qt.apply(t,Ut(e)?e:[e])},Wt=Date.prototype.toISOString,$t={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Lt.encode,encodeValuesOnly:!1,formatter:zt.formatters[zt.default],indices:!1,serializeDate:function serializeDate(t){return Wt.call(t)},skipNulls:!1,strictNullHandling:!1},Jt=function t(e,n,i,o,a,r,c,s,l,d,p,u,h){var f=e;if("function"==typeof c?f=c(n,f):f instanceof Date?f=d(f):"comma"===i&&Ut(f)&&(f=f.join(",")),null===f){if(o)return r&&!u?r(n,$t.encoder,h):n;f=""}if("string"==typeof f||"number"==typeof f||"boolean"==typeof f||Lt.isBuffer(f))return r?[p(u?n:r(n,$t.encoder,h))+"="+p(r(f,$t.encoder,h))]:[p(n)+"="+p(String(f))];var g,x=[];if(void 0===f)return x;if(Ut(c))g=c;else{var m=Object.keys(f);g=s?m.sort(s):m}for(var b=0;b<g.length;++b){var v=g[b];a&&null===f[v]||(Ut(f)?Vt(x,t(f[v],"function"==typeof i?i(n,v):n,i,o,a,r,c,s,l,d,p,u,h)):Vt(x,t(f[v],n+(l?"."+v:"["+v+"]"),i,o,a,r,c,s,l,d,p,u,h)))}return x},Yt=(Object.prototype.hasOwnProperty,function(t,n){var i,o=t,a=function(t){if(!t)return $t;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||$t.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=zt.default;if(void 0!==t.format){if(!Ht.call(zt.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=zt.formatters[n],o=$t.filter;return("function"==typeof t.filter||Ut(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:$t.addQueryPrefix,allowDots:void 0===t.allowDots?$t.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:$t.charsetSentinel,delimiter:void 0===t.delimiter?$t.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:$t.encode,encoder:"function"==typeof t.encoder?t.encoder:$t.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:$t.encodeValuesOnly,filter:o,formatter:i,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:$t.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:$t.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:$t.strictNullHandling}}(n);"function"==typeof a.filter?o=(0,a.filter)("",o):Ut(a.filter)&&(i=a.filter);var r,c=[];if("object"!==e(o)||null===o)return"";r=n&&n.arrayFormat in Mt?n.arrayFormat:n&&"indices"in n?n.indices?"indices":"repeat":"indices";var s=Mt[r];i||(i=Object.keys(o)),a.sort&&i.sort(a.sort);for(var l=0;l<i.length;++l){var d=i[l];a.skipNulls&&null===o[d]||Vt(c,Jt(o[d],d,s,a.strictNullHandling,a.skipNulls,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.formatter,a.encodeValuesOnly,a.charset))}var p=c.join(a.delimiter),u=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),p.length>0?u+p:""}),Qt=new _t;function Gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return k(t)?e:C(t)?t:String(t)}Qt.config.withCredentials=!0,Qt.config.timeout=1e4,Qt.interceptors.response.use((function(t){return t.data}),(function(t){return Promise.reject(t)}));var Xt={name:"",version:""},Kt={opera:/Opera\/([\d.]+)/,firefox:/Firefox\/([\d.]+)/,ie:/MSIE\s([\d.]+)/,ie11:/Trident\/[\d](?=[^\?]+).*rv:([0-9.]+)/,edge:/Edge\/([\d.]+)/,chrome:/Chrome\/([\d.]+)/,safari:/Safari\/([\d.]+)/};function Zt(t){return Kt.opera.test(t)?"Opera":Kt.firefox.test(t)?"Firefox":Kt.ie.test(t)||Kt.ie11.test(t)?"IE":Kt.edge.test(t)?"Edge":Kt.chrome.test(t)?"Chrome":Kt.safari.test(t)?"Safari":"other"}var te=navigator.userAgent||"";Xt.name=Zt(te),Xt.version=function(t,e){var n="";switch(e=e||Zt(t)){case"Opera":case"Firefox":case"Edge":case"Chrome":case"Safari":var i=Kt[e.toLocaleLowerCase()].exec(t);n=i?i[1]:"";break;case"IE":var o=Kt.ie.exec(t)||Kt.ie11.exec(t);n=o?o[1]:""}return n}(te,Xt.name);var ee={isDev:!0,isLogin:!1,userInfo:{},appid:"",threadId:"",commentCount:0,winHeight:window.innerHeight||document.documentElement.clientHeight,passStaticPage:"",isHigherBrowser:function(t){var e=Xt.name.toLocaleLowerCase();if(t.hasOwnProperty(e)){var n=t[e];return function(t,e){t=Gt(t,""),e=Gt(e,"");for(var n=t.split("."),i=e.split("."),o=0,a=Math.max(n.length,i.length);o<a;o++){if(n[o]&&!i[o]&&parseInt(n[o],10)>0||parseInt(n[o],10)>parseInt(i[o],10))return 1;if(i[o]&&!n[o]&&parseInt(i[o],10)>0||parseInt(n[o],10)<parseInt(i[o],10))return-1}return 0}(Xt.version,n)>-1}return!0}({ie:"11"}),hideToast:!1},ne={thread_id:"",reply_id:"",start:0,num:20,appid:"",order:"12",inner_order:"9",use_list:"1",callback:"?"},ie="https://ext.baidu.com",oe={LIST1:"".concat(ie,"/api/comment/v2/comment/list"),LIST2:"".concat(ie,"/api/comment/v2/comment/detail"),UPDOWN:"".concat(ie,"/api/comment/v1/comment/updown"),DELETE:"".concat(ie,"/api/comment/v1/comment/delreply"),REPORT:"".concat(ie,"/api/comment/v1/comment/report"),ADDREPLY:"".concat(ie,"/api/comment/v1/comment/addreply")},ae="正在加载...",re="加载失败，点击重新加载",ce="查看更多评论",se="没有更多啦",le="网络不给力，请稍后重试",de="点击太频繁了，休息一下吧",pe=[{id:"4",text:"反动违法"},{id:"1",text:"色情低俗"},{id:"6",text:"谩骂攻击"},{id:"3",text:"营销广告"},{id:"9",text:"其他"}],ue=function ue(t){return"".concat("https://author.baidu.com/home","?context=%7B%22uk%22%3A%22").concat(t,"%22%7D")},he={202:"参数错误，发送失败",701:"手速太快了，休息一下再试吧",872:"此评论暂无法回复",802:"发送失败，此内容暂不支持评论",880:"发表失败",890:"每天可发表5次图片评论",838:"由于对方设置，你无法进行该操作"};function fe(t){var e={appid:ee.appid,thread_id:ee.threadId,parent_id:t.replyId,content:t.text,sync_text:+t.isRadioChecked,ts:Date.now(),client_type:"pc"};return new Promise((function(t,n){var i,o,a;(i=oe.ADDREPLY,o=e,Qt.post(i,Yt(o,{arrayFormat:"indices"}),a)).then((function(e){var i;!+e.errno&&e.ret?t(function(t){var e=t.sync_text_comment;e&&(t.sync_text_comment=r(e,s(s({},e.user),{},{thread_id:t.thread_id,is_author:!0,like_count:0})));return t}(e.ret)):n((i=e.errno,he[i+""]||"发表失败，请稍后重试"))})).catch((function(t,e){n(le)}))}))}var ge=location.protocol+"//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion=",xe=function xe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window.__instance;if(!e&&n&&n.show)n.show();else{var i=t.apiOpt,o=void 0===i?{}:i,a=t.successCb;delete t.apiOpt,window.__instance=n=window.passport.pop.init(s({loginVersion:"v4",apiOpt:s({loginType:1,u:window.location.href,product:"interact",staticPage:window.location.origin+"/v3Jump.html"},o),cache:!1,tangram:!0,authsite:["tqq","renren","tsina"],onLoginSuccess:function onLoginSuccess(t){a&&a(t),t.returnValue=!1,window.__instance.hide()},onSubmitStart:function onSubmitStart(t){},onSubmitedErr:function onSubmitedErr(t){},onSystemErr:function onSystemErr(t){},onShow:function onShow(t){},onRealHide:function onRealHide(t){},onHide:function onHide(t){},onDestroy:function onDestroy(t){}},t)),n.show()}},me={},be=function be(){return new Promise((function(t){ee.isLogin?t():(me.loginSuccessCb=function(e){var n=((e||{}).rsp||{}).data||{};ee.isLogin=!0,ee.curUserName=n.userName,t()},function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window.passport&&window.passport.pop;n?xe(t,e):R(ge+(new Date).getTime(),(function(){xe(t,e)}),{})}({apiOpt:{staticPage:ee.passStaticPage},successCb:function successCb(t){me.loginSuccessCb(t)}},!1))}))},ve=function ve(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";if(!B(t,"date"))throw st("d","Date",t);var n=t.getFullYear().toString(),i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(y+)/gi,(function(t,e){return n.substr(4-Math.min(4,e.length))})),Object.keys(i).forEach((function(t){e=e.replace(new RegExp("("+t+"+)","g"),(function(e,n){return i[t]<10&&n.length>1?"0"+i[t]:i[t]}))})),e};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-dialog-classic{width:224px;height:131px;background:#fff;border-radius:16px;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1)}.x-dialog-classic button{padding:0}.x-dialog-classic-msg{padding-top:30px;font-size:18px;line-height:1;text-align:center;color:#222}.x-dialog-classic-oper{padding:21px 20px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.x-dialog-classic .btn{width:80px;height:32px;font-size:14px;border-radius:16px;border:none;outline:none}.x-dialog-classic-cancel{color:#1f1f1f;background:#f5f5f6}.x-dialog-classic-confirm{color:#fff;background:#4e6ef2}");var ye="x-dialog-classic",Ee=function(){function t(e){n(this,t),this.container=e.container,this.message=e.message||"确认做此操作吗",this.cancelText=e.cancelText||"取消",this.confirmText=e.confirmText||"确认",this.onCancel=e.onCancel,this.onConfirm=e.onConfirm,this.onClose=e.onClose,this.render(),this.bindEvent()}return o(t,[{key:"render",value:function value(){var t='\n            <div class="'.concat(ye,'">\n                <h3 class="').concat(ye,'-msg">').concat(this.message,'</h3>\n                <div class="').concat(ye,'-oper">\n                    <button class="btn ').concat(ye,'-cancel">').concat(this.cancelText,'</button>\n                    <button class="btn ').concat(ye,'-confirm">').concat(this.confirmText,"</button>\n                </div>\n            </div>\n        ");this.container.innerHTML=t}},{key:"bindEvent",value:function value(){var t=this;G(this.container,".".concat(ye,"-cancel"),"click",(function(e){A(t.onCancel)&&t.onCancel(e),t.close()})),G(this.container,".".concat(ye,"-confirm"),"click",(function(e){A(t.onConfirm)&&t.onConfirm(e),t.close()})),this.onOtherClickBind=this.onOtherClick.bind(this),setTimeout((function(){G(document,"html","click",t.onOtherClickBind)}),0)}},{key:"close",value:function value(){X(this.container,".".concat(ye,"-cancel"),"click"),X(this.container,".".concat(ye,"-confirm"),"click"),X(document,"html","click",this.onOtherClickBind),this.container.innerHTML="",A(this.onClose)&&this.onClose()}},{key:"onOtherClick",value:function value(t){this.container.innerHTML&&!t.target.closest(".".concat(ye))&&this.close()}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-dialog-menu{padding:30px 24px;width:368px;background:#fff;border-radius:16px;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-sizing:content-box;box-sizing:content-box}.x-dialog-menu-title{font-size:18px;line-height:1;text-align:center;color:#222}.x-dialog-menu-list{margin-top:8px;font-size:0}.x-dialog-menu-item{width:176px;height:32px;margin-top:12px;padding:0;font-size:14px;border-radius:16px;border:none;outline:none;color:#333;background-color:#f5f5f5}.x-dialog-menu-item:nth-child(2n){margin-left:16px}.x-dialog-menu.is-odd .x-dialog-menu-item:last-child{width:368px}.x-dialog-menu-item:hover{color:#fff;background-color:#4e6ef2}");var Be="x-dialog-menu",ke=function(){function t(e){n(this,t),this.title=e.title,this.list=e.list,this.container=e.container,this.clickCallback=e.clickCallback,this.closeCallback=e.closeCallback,this.container}return o(t,[{key:"render",value:function value(){var t=this.makeTpl(this.title,this.list);this.container.insertAdjacentHTML("beforeend",t),this.bindEvent()}},{key:"makeTpl",value:function value(t,e){var n=(e&&e.length||0)%2==1?"is-odd":"";return'\n            <div class="'.concat(Be," ").concat(n,'">\n                <h3 class="').concat(Be,'-title">').concat(t,'</h3>\n                <div class="').concat(Be,'-list">\n                ').concat(e.map((function(t,e){return'\n                        <button class="'.concat(Be,'-item" data-id="').concat(e,'">').concat(t.text,"</button>\n                    ")})).join(""),"\n                </div>\n            </div>\n        ")}},{key:"bindEvent",value:function value(){var t=this;G(this.container,".".concat(Be),"click",(function(e){e.preventDefault(),e.stopPropagation();var n=e.target;if(n.className==="".concat(Be,"-item")){t.close();var i=n.dataset.id,o=t.list[i];o&&A(t.clickCallback)&&t.clickCallback({item:o})}})),this.outerClkFunc=this.outerClick.bind(this),setTimeout((function(){G(document,"html","click",t.outerClkFunc)}),0)}},{key:"close",value:function value(){X(this.container,".".concat(Be),"click"),X(document,"html","click",this.outerClkFunc);var t=this.container.querySelector(".".concat(Be));t&&(t.outerHTML=""),A(this.closeCallback)&&this.closeCallback()}},{key:"outerClick",value:function value(t){!t.target.closest(".".concat(Be))&&this.close()}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-interact-emoj-panel{height:100%;overflow-y:auto}.x-interact-emoj-panel-wrapper{-webkit-box-sizing:border-box;box-sizing:border-box;width:443px;height:230px;line-height:0;padding:20px 6px 20px 20px;font-size:0;border-radius:12px;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1)}.x-interact-emoj-panel::-webkit-scrollbar{width:3px}.x-interact-emoj-panel::-webkit-scrollbar-thumb{border-radius:10px;background-color:#f2f2f2}.x-interact-emoj-panel .img-wrap{display:inline-block;margin:5px;padding:5px;border-radius:6px}.x-interact-emoj-panel .img-wrap:hover{background-color:rgba(51,136,255,.2)}.x-interact-emoj-panel .emoj-img{width:30px}");var we="x-interact-emoj-panel",De=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.options=s({containerId:we,clickCallback:function clickCallback(){}},e),this.containerId="#"+this.options.containerId,this.container=document.querySelector(this.containerId),this.container}return o(t,[{key:"render",value:function value(){this.container.classList.add("".concat(we,"-wrapper")),this.container.innerHTML=this.makeTpl(),this.bindEvent(this.options.clickCallback)}},{key:"makeTpl",value:function value(){var t=g(xt.packages,1)[0],e=xt.imgpath,n=t.emoticons||[],i=ve(new Date,"yyyyMMddhh");return'\n            <div class="'.concat(we,'">\n                ').concat(n.map((function(t){var n=t.text,o=t.icon,a=t.id;return t.hideInEmojiKeyboard?"":'\n                        <span class="img-wrap" data-text="'.concat(n,'" data-id="').concat(a,'">\n                            <img class="emoj-img" src="').concat(e).concat(o,"?r=").concat(i,'" title="').concat(n,'"/>\n                        </span>\n                    ')})).join(""),"\n            </div>\n        ")}},{key:"hide",value:function value(){this.container.style.display="none"}},{key:"show",value:function value(){this.container.style.display="block"}},{key:"toggle",value:function value(){"none"===this.container.style.display?this.show():this.hide()}},{key:"bindEvent",value:function value(t){var e=this;G(this.container,this.containerId,"click",(function(n){n.preventDefault(),n.stopPropagation();var i=n.target;if("#".concat(i.id)===e.containerId)e.hide();else{"emoj-img"===i.className&&(i=i.parentElement);var o=i.dataset,a=o.text,r=o.id;a&&A(t)&&t({text:a,id:r})}})),G(document,"html","click",(function(t){e.hide()}))}}]),t}(),Ae=function Ae(t){var e=new De(t);return e.render(),e},Ce=function Ce(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;n=n||window.innerHeight||document.documentElement.clientHeight;var i=document.documentElement.scrollTop||window.pageYOffset;return!(n+i-t.offsetTop<=e||t.offsetTop+t.clientHeight<i)};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}('.x-interact-publish{width:100%;font-size:13px;color:#222}.x-interact-publish-panel-center{padding-top:4px}.x-interact-publish-cont{height:94px}.x-interact-publish-cont,.x-interact-publish-cont-topic{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;background:#f5f5f6;border-radius:12px}.x-interact-publish-cont-topic{min-height:94px;max-height:160px;overflow-y:auto}.x-interact-publish .text-area{padding:16px 16px 23px;width:100%;resize:none;background:#f5f5f6;border-radius:12px;border:none;color:#1f1f1f}.x-interact-publish .text-area:empty:before{content:attr(placeholder)}.x-interact-publish .text-area:focus{outline:none}.x-interact-publish .textarea-topic{padding:13px 16px 11px;min-width:200px;width:100%;resize:none;background:#f5f5f6;border-radius:12px;border:none;color:#1f1f1f;overflow:hidden;overflow-y:auto;-webkit-user-select:text;line-height:1.5;word-break:break-all;word-wrap:break-word;white-space:pre-wrap;-webkit-box-sizing:border-box;box-sizing:border-box}.x-interact-publish .textarea-topic:before,.x-interact-publish .textarea-topic:empty:before{content:attr(content);color:#4e6ef2;white-space:nowrap;word-break:break-all;padding-right:5px;line-height:1.5}.x-interact-publish .textarea-topic .placeholder-dom:before{display:inline-block;content:attr(placeholder);color:#626675}.x-interact-publish .textarea-topic:focus{outline:none}.x-interact-publish-opt{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:30px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-top:8px}.x-interact-publish .emoj,.x-interact-publish .img-upload{display:inline-block;height:20px;width:20px;background-size:contain;background-repeat:no-repeat}.x-interact-publish .emoj:hover,.x-interact-publish .img-upload:hover{cursor:pointer}.x-interact-publish .emoj{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-emoj-btn2.png)}.x-interact-publish .emoj:hover{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-emoj-btn-active2.png)}.x-interact-publish .img-upload{margin-left:30px;background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-img-btn3.png)}.x-interact-publish .img-upload:hover{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-img-btn-active3.png)}.x-interact-publish .radio{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.x-interact-publish .radio:hover{cursor:pointer}.x-interact-publish .radio:not(:first-child){margin-left:30px}.x-interact-publish .radio:before{content:"";display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;height:26px;width:26px;border:2px solid #222;border-radius:100%;-webkit-transform-origin:left;transform-origin:left;-webkit-transform:scale(.5);transform:scale(.5);margin-right:-9px}.x-interact-publish .radio.checked:before{border:none;background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-radio-selected.png);background-size:contain;background-repeat:no-repeat;background-color:#4e6ef2}.x-interact-publish .no-radio .radio{display:none}.x-interact-publish .extra{position:absolute;right:90px;color:#858585}.x-interact-publish .extra .exceed{color:#f73131}.x-interact-publish .send{position:absolute;top:0;right:0;width:80px;height:30px;line-height:30px;font-size:14px;text-align:center;color:#fff;background:#4e6ef2;border-radius:15px;cursor:pointer}.x-interact-publish .send.disabled{opacity:.2;cursor:not-allowed}.x-interact-publish .emoj-panel{background:#fff}.x-interact-publish .emoj-panel.float-up{position:absolute;z-index:1}.x-interact-publish .emoj-panel.float-right{right:-16px}.x-interact-publish-newstyle .x-interact-publish-cont{padding-bottom:41px;height:88px}.x-interact-publish-newstyle .x-interact-publish-content{position:relative}.x-interact-publish-newstyle .x-interact-publish-opt{position:absolute;top:88px;width:100%;margin-top:0}.x-interact-publish-newstyle .x-interact-publish-opt .emoj{margin-left:19px}.x-interact-publish-newstyle .x-interact-publish-opt .send{margin-right:11px}.x-interact-publish-newstyle .extra{margin-right:12px}.x-interact-publish-disabled .text-area{background-color:rgba(245,245,246,.3)}.x-interact-publish-disabled .text-area::-webkit-input-placeholder{opacity:.3}.x-interact-publish-disabled .text-area:-moz-placeholder,.x-interact-publish-disabled .text-area::-moz-placeholder{opacity:.3}.x-interact-publish-disabled .text-area:-ms-input-placeholder{opacity:.3}.x-interact-publish-disabled .x-interact-publish-cont{background-color:rgba(245,245,246,.3)}.x-interact-publish-disabled .emoj,.x-interact-publish-disabled .extra,.x-interact-publish-disabled .radio{opacity:.3}.x-interact-publish-disabled .emoj:hover{cursor:not-allowed;background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xib-emoj-btn2.png)}.x-interact-publish-disabled .send.disabled{background-color:#eee;opacity:1}');var Se="x-interact-publish",Te=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.options=s({containerId:Se,placeholder:"发表神评妙论",radio:{label:"同时评论原文",checked:!1},maxTextNum:300,showNumLimit:20,isEmojShow:!0,isEmojFloatUp:!1,isUploadImgShow:!1,isAllowedSendNull:!1},e);var i=this.options.topicObj||{};this.isTopic=i.isTopic,this.topicWord=i.topicWord;var o=e.actionCallback,a=e.sendCallback;this.sendCallback=A(a)?a:function(){},this.actionCallback=A(o)?o:function(){},this.containerId="#"+this.options.containerId,this.container=document.querySelector(this.containerId),this.container&&(this.emojPanel="",this.options.emojPanelId=this.options.isEmojShow?this.options.containerId+"_emoj_panel":"",this.imgList=[],this.options.imgListPanelId=this.options.isUploadImgShow?this.options.containerId+"_img_list_panel":"")}return o(t,[{key:"render",value:function value(){this.container.innerHTML=this.makeTpl(s({},this.options)),this.setMainDom(),this.bindEvent(),this.checkRealShow(),this.isTopic&&(this.getSessionStorage(),this.createPlaceholderNode()),this.isTopic&&this.getSessionStorage(),this.setExtra(this.options)}},{key:"createPlaceholderNode",value:function value(){var t=document.createElement("span");t.classList.add("placeholder-dom"),t.setAttribute("placeholder",this.options.placeholder),this.textarea.innerHTML="",this.textarea.appendChild(t);var e=document.createTextNode(" ");this.textarea.appendChild(e),this.placeholderDom=this.container.querySelector(".placeholder-dom")}},{key:"getSessionStorage",value:function value(){var t=sessionStorage.getItem("textareaHTML");t&&(this.textarea.innerHTML=t),this.insertPlaceholder()}},{key:"insertPlaceholder",value:function value(){var t=this.textarea.innerText;(!t.trim()||JSON.stringify(t)===JSON.stringify("\n"))&&(this.textarea.innerHTML="",this.createPlaceholderNode(),this.setMainDom(),this.setExtra(this.options),sessionStorage.setItem("textareaHTML",this.textarea.innerHTML))}},{key:"setMainDom",value:function value(){this.isTopic?this.textarea=this.container.querySelector(".textarea-topic"):this.textarea=this.container.querySelector(".text-area"),this.operatorBar=this.container.querySelector(".".concat(Se,"-opt")),this.radio=this.container.querySelector(".radio"),this.radio.checked=!!this.options.radio.checked,this.extra=this.container.querySelector(".extra"),this.send=this.container.querySelector(".send"),this.body=document.querySelector("body")}},{key:"makeTpl",value:function value(t){var e=t.placeholder,n=t.radio,i=void 0===n?{}:n,o=t.emojPanelId,a=t.isEmojFloatUp,r=t.imgListPanelId,c=t.isAllowedSendNull,s=t.topicObj,l=t.isNewStyle,d=t.disabled,p=s||{},u=p.topicWord,h=p.isTopic,f='<textarea contenteditable="true" class="text-area '.concat(e?"placeholder":"",'"\n        placeholder="').concat(e,'"></textarea>'),g='<div\n            content="'.concat(u,'"\n            contenteditable="true"\n            class="textarea-topic"></div>');return'\n            <div class="'.concat(Se,"\n                ").concat(l?"x-interact-publish-newstyle":"","\n                ").concat(d?"x-interact-publish-disabled":"",'\n            ">\n                <div class="').concat(Se,'-content">\n                    <div class="').concat(h?Se+"-cont-topic":Se+"-cont",'">\n                        ').concat(h?g:f,'\n                        <div class="other"></div>\n                    </div>\n                    <div class="').concat(Se,'-panel-center">\n                        ').concat(r?'<div id="'.concat(r,'"></div>'):"",'\n                    </div>\n                    <div class="').concat(Se,"-opt ").concat(i.label?"":"no-radio",'">\n                    ').concat(o?'\n                        <span class="emoj"></span>\n                    ':"","\n                    ").concat(r?'\n                        <div class="img-upload"></div>\n                    ':"",'\n                        <span class="radio ').concat(i.checked?"checked":"",'">').concat(i.label,'</span>\n                        <span class="extra"></span>\n                        <span class="send ').concat(c?"":"disabled",'">发表</span>\n                    </div>\n                </div>\n                <div class="').concat(Se,'-panel-bottom">\n                    <div\n                        id="').concat(o,'"\n                        class="emoj-panel ').concat(a?"float-up":""," ").concat(h?"float-right":"",'"\n                    >\n                    </div>\n                </div>\n            </div>\n        ')}},{key:"bindEvent",value:function value(){var t=this;G(this.container,".textarea-topic","paste",(function(e){if(t.isTopic){var n=event||window.event;n.preventDefault();var i=(n.originalEvent||n).clipboardData.getData("text/plain");document.execCommand("insertText",!1,i)}})),G(this.body,"body","click",(function(e){t.isTopic&&t.insertPlaceholder(),t.emojPanelHide()})),G(this.container,this.containerId,"click",(function(e){e.preventDefault(),e.stopPropagation();var n=e.target.className.trim();-1!==n.indexOf("radio")&&(n="radio"),-1!==n.indexOf("text-area")&&(n="text-area"),-1!==n.indexOf("textarea-topic")&&(n="textarea-topic");var i=t.actionCallback;if(t.options.disabled)return i("publish-disabled-click"),void t.textarea.blur();switch(n){case"emoj":t.emojClk(t.options),i("publish-emoj-click");break;case"radio":t.emojPanelHide(),t.radioClk(),i("publish-radio-click",{checked:t.radio.checked});break;case"send":t.emojPanelHide(),t.sendClk(),i("publish-send-click");break;case"text-area":t.emojPanelHide(),i("publish-textarea-click");break;case"textarea-topic":var o=getSelection();t.lastEditRange=o.getRangeAt(0),t.emojPanelHide(),i("publish-textarea-click");break;case"img-upload":t.emojPanelHide(),t.pickImage();break;default:if(t.isTopic){t.textarea.focus();var a=getSelection();t.lastEditRange=a.getRangeAt(0)}t.emojPanelHide()}})),G(this.container,".text-area","keyup",(function(e){t.setExtra(t.options)})),G(this.container,".textarea-topic","keyup",(function(e){t.setExtra(t.options);var n=getSelection();t.lastEditRange=n.getRangeAt(0),sessionStorage.setItem("textareaHTML",t.textarea.innerHTML)})),G(this.container,".textarea-topic","keydown",(function(e){var n=getSelection();if(13==+(window.event?e.keyCode:e.which)){var i=n.anchorNode,o=i.nodeValue,a=n.anchorOffset,r=!1,c=i.nextElementSibling,s=i.nextSibling;return(void 0===c?!s:!c)&&o&&o.length===+a&&(r=!0),r?t.insertHtml("<br><br>"):t.insertHtml("<br>"),!1}})),G(this.container,".textarea-topic","focus",(function(e){var n=t.placeholderDom&&t.placeholderDom.parentNode;n&&n.removeChild(t.placeholderDom),sessionStorage.setItem("textareaHTML",t.textarea.innerHTML)}))}},{key:"insertHtml",value:function value(t){var e,n;if(window.getSelection){if((e=window.getSelection()).getRangeAt&&e.rangeCount){(n=e.getRangeAt(0)).deleteContents();var i=document.createElement("div");i.innerHTML=t;for(var o,a,r=document.createDocumentFragment(),c=i.firstChild;o=i.firstChild;){a=r.appendChild(o)}n.insertNode(r),a&&((n=n.cloneRange()).setStartAfter(c),n.collapse(!0),e.removeAllRanges(),e.addRange(n))}}else document.selection&&"Control"!==document.selection.type&&document.selection.createRange().pasteHTML(t)}},{key:"setTextarea",value:function value(t,e){if(this.isTopic){this.textarea.focus();var n=getSelection();if(this.lastEditRange&&(n.removeAllRanges(),n.addRange(this.lastEditRange)),"#text"!==n.anchorNode.nodeName){var i=document.createTextNode(t);if(this.textarea.childNodes.length>0)for(var o=0;o<this.textarea.childNodes.length;o++){o===+n.anchorOffset&&this.textarea.insertBefore(i,this.textarea.childNodes[o])}else this.textarea.appendChild(i);var a=document.createRange();a.selectNodeContents(i),a.setStart(i,i.length),a.collapse(!0),n.removeAllRanges(),n.addRange(a)}else{var r=n.getRangeAt(0),c=r.startContainer,s=r.startOffset;c.insertData(s,t),r.setStart(c,s+t.length),r.collapse(!0),n.removeAllRanges(),n.addRange(r)}this.lastEditRange=n.getRangeAt(0),sessionStorage.setItem("textareaHTML",this.textarea.innerHTML)}else{e=e||this.textarea.selectionStart;var l=this.textarea.value;l=l.slice(0,e)+t+l.slice(e),this.textarea.value=l,this.textarea.setSelectionRange(e+t.length,l.length)}}},{key:"clearTextarea",value:function value(){this.isTopic?(this.createPlaceholderNode(),this.setMainDom()):this.textarea.value="";var t=this.options,e=this.radio;t.radio.label&&e&&e.checked&&(e.classList.remove("checked"),e.checked=!1),this.sendEnable()}},{key:"getTextarea",value:function value(){return this.isTopic?this.topicWord+this.textarea.innerText:this.textarea.value}},{key:"setExtra",value:function value(t){var e=t.maxTextNum,n=t.showNumLimit,i=e-(this.isTopic?this.topicWord+this.textarea.innerText:this.textarea.value).length,o="",a="";i<0?(o="超出",a="exceed",i=-i,this.sendEnable(!1)):(o="剩余",this.sendEnable(!0),i>n&&(i=-1)),this.extra.innerHTML=i>=0?"".concat(o,'<span class="').concat(a,'">').concat(i,"</span>字"):""}},{key:"emojClk",value:function value(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.emojPanel;n?n.toggle():this.emojPanel=Ae({containerId:e.emojPanelId,clickCallback:function clickCallback(n){t.setTextarea(n.text),t.setExtra(e),t.actionCallback("publish-emojItem-click",{id:n.id})}})}},{key:"emojPanelHide",value:function value(){var t=this.emojPanel;t&&t.hide()}},{key:"radioClk",value:function value(){this.radio.classList.toggle("checked"),this.radio.checked=!this.radio.checked}},{key:"sendClk",value:function value(){if(!this.send.classList.contains("disabled")){var t={text:this.getTextarea()};this.options.radio.label&&(t.isRadioChecked=this.radio.checked),this.options.isUploadImgShow&&this.imgList.length&&(t.imgList=this.imgList),A(this.sendCallback)&&this.sendCallback(t)}}},{key:"sendEnable",value:function value(t){!0!==t&&!1!==t||(this.globalSendEnable=t);var e=this.isTopic?this.topicWord+this.textarea.innerText:this.textarea.value,n=this.options,i=n.isUploadImgShow,o=n.isAllowedSendNull,a=o||!o&&!!e.trim()||i&&this.imgList.length,r=!1!==this.globalSendEnable&&a?"remove":"add";this.send.classList[r]("disabled")}},{key:"hide",value:function value(){this.container.style.display="none",this.getTextarea()&&this.actionCallback("publish-textarea-draft")}},{key:"show",value:function value(){this.container.style.display="block"}},{key:"checkRealShow",value:function value(t){var e=this.actionCallback;if(Ce(this.container)&&e("publish-show"),Ce(this.operatorBar)){this.options.emojPanelId&&e("publish-emoj-show");var n=this.options.radio,i=n.label,o=n.checked;i&&e("publish-radio-show",{checked:o}),t&&t()}}},{key:"pickImage",value:function value(){}}]),t}(),je=function je(t){var e=new Te(t);return e.render(),e};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".x-toast{position:fixed;left:50%;bottom:20%;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:10px 12px;font-size:13px;line-height:13px;color:#fff;background:#626675;border-radius:8px}");var _e=function(){function t(){n(this,t)}return o(t,null,[{key:"show",value:function value(t){var e=this;this.timer&&this.hide(),this.text=t.text,this.duration=t.duration||3e3,this.afterHide=t.afterHide,this.render(),this.timer=setTimeout((function(){e.hide()}),this.duration)}},{key:"hide",value:function value(){this.el&&(this.clear(),this.changeStyle("display","none"),A(this.afterHide)&&this.afterHide())}},{key:"render",value:function value(){if(this.el)this.el.innerText=this.text,this.changeStyle("display","block");else{var t=document.createElement("div");t.classList.add("x-toast"),t.innerText=this.text,this.el=t,document.body.appendChild(t)}}},{key:"clear",value:function value(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"changeStyle",value:function value(t,e){this.el.style[t]=e}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".interact-bar{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-top:8px;font-family:PingFangSC-Regular;font-size:13px;color:#9195a3}.interact-bar:hover .delete,.interact-bar:hover .report{display:block}.interact-bar>*{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.interact-bar-left{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}.interact-bar-left .delete,.interact-bar-left .report{display:none;margin-left:10px;cursor:pointer}.interact-bar-left .area{margin-left:8px}.interact-bar-right{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;color:#222}.interact-bar-right .like,.interact-bar-right .reply{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.interact-bar-right .icon{background-repeat:no-repeat;background-size:cover;background-position:50%}.interact-bar-right .reply{cursor:pointer}.interact-bar-right .reply-icon{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-reply.png)}.interact-bar-right .like{cursor:pointer;margin-left:16px}.interact-bar-right .like-icon{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-like.png)}.interact-bar-right .like.liked{color:#f33}.interact-bar-right .like.liked .like-icon{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-liked.png)}.interact-bar-right .icon{width:20px;height:20px;margin-right:3px}.interact-bar .custom-dialog{position:absolute;left:0;top:56px;z-index:1}");var Fe=dt(),Ie=function(){function t(e){var i=this;n(this,t),this.createTime=e.createTime,this.area=e.area,this.isAuthor=e.isAuthor,this.uname=e.uname,this.isUped=!!+e.isUped,this.likeCount=+e.likeCount,this.appid=e.appid,this.threadId=e.threadId,this.replyId=e.replyId,this.onDeleteSuccess=e.onDeleteSuccess,this.onReplySuccess=e.onReplySuccess,this.actionCallback=e.actionCallback,Fe.on("closeOtherReplyPublish",(function(){i.showReplyPublish&&i.toggleReplyPublish()}))}return o(t,[{key:"formateArea",value:function value(t){return t&&t.length>6?t.slice(0,5)+"...":t}},{key:"makeTpl",value:function value(){var t=this.area?'<div class="area">'.concat(this.formateArea(this.area),"</div>"):"";return'\n            <div class="'.concat("interact-bar",'" data-reply-id="').concat(this.replyId,'">\n                <div class="').concat("interact-bar",'-left">\n                    <span class="time">').concat(function(t){var e="刚刚";if(!t)return e;var n=1e3*t;t=new Date(n);var i=(Date.now()-n)/1e3,o=t.getFullYear();return(new Date).getFullYear()!==o?e=ve(t,"yyyy-MM-dd"):i>86400?e=ve(t,"MM-dd hh:mm"):i>3600?e=parseInt(i/3600,10)+"小时前":i>60&&(e=parseInt(i/60,10)+"分钟前"),e}(this.createTime),"</span>\n                    ").concat(t,"\n                    ").concat(this.isAuthor?'<span class="delete">删除</span>':'<span class="report">举报</span>','\n                </div>\n                <div class="').concat("interact-bar",'-right">\n                    <div class="reply">\n                        <i class="icon reply-icon"></i>\n                        <span class="reply-text">回复</span>\n                    </div>\n                    <div class="like ').concat(+this.isUped?"liked":"",'">\n                        <i class="icon like-icon"></i>\n                        <span class="like-text">').concat(this.likeCount?this.likeCount:"赞","</span>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:"bindEvent",value:function value(t){var e=this,n=this.root=t.querySelector(".".concat("interact-bar",'[data-reply-id="').concat(this.replyId,'"]'));G(n,".delete","click",(function(t){e.openPanel("classic",e.onClickDelete.bind(e)),e.actionCallback("xcp-delete-click")})),G(n,".report","click",(function(t){e.openPanel("report",e.onClickReport.bind(e)),e.actionCallback("xcp-report-click")})),G(n,".reply","click",(function(t){e.toggleReplyPublish(),e.actionCallback("xcp-reply-click")})),G(n,".like","click",(function(t){e.onClickUpdown(),e.actionCallback("xcp-like-click",{liked:+e.isUped})}))}},{key:"onClickDelete",value:function value(){var t=this;this.deleting||(this.deleting=!0,z({url:oe.DELETE,data:{appid:this.appid,thread_id:this.threadId,reply_id:this.replyId,user_type:0,ts:Date.now(),callback:"?"},success:function success(e){e&&!+e.errno?(t.root&&A(t.onDeleteSuccess)&&t.onDeleteSuccess(),t.toastCallback("xcp-delete-succ","删除成功")):t.toastCallback("xcp-delete-error","删除失败，请稍后重试"),t.deleting=!1},error:function error(e,n){t.toastCallback("xcp-net-error",le),t.deleting=!1}}))}},{key:"onClickReport",value:function value(t){var e=this;this.reporting||be().then((function(){e.reporting=!0,e.actionCallback("xpc-login-succ",{userName:ee.curUserName,location:"report"}),z({url:oe.REPORT,data:{appid:e.appid,thread_id:e.threadId,reply_id:e.replyId,reason:t.item&&t.item.id,ts:Date.now(),callback:"?"},success:function success(t){t&&!+t.errno?e.toastCallback("xcp-other-event","感谢你的举报"):e.toastCallback("xcp-other-event",le),e.reporting=!1},error:function error(t,n){e.toastCallback("xcp-other-event",le),e.reporting=!1}})}))}},{key:"onClickUpdown",value:function value(){var t=this;this.updowning||be().then((function(){t.updowning=!0,t.actionCallback("xpc-login-succ",{userName:ee.curUserName,location:"like"}),z({url:oe.UPDOWN,data:r({appid:t.appid,thread_id:t.threadId,reply_id:t.replyId,ts:Date.now(),callback:"?"},t.isUped?{undo_type:1}:{type:1}),success:function success(e){var n=e&&e.errno;0==+n?t.changeUpdownStatus(!t.isUped):897==+n?t.changeUpdownStatus(!t.isUped,!0):701==+n?t.toastCallback("xcp-other-event",de):t.toastCallback("xcp-other-event",le),t.updowning=!1},error:function error(e,n){t.toastCallback("xcp-other-event",le),t.updowning=!1}})}))}},{key:"changeUpdownStatus",value:function value(t,e){if(this.root){this.isUped=t;var n=this.root.querySelector(".like"),i=n.querySelector(".like-text");e?n.classList.add("liked"):t?(n.classList.add("liked"),i.innerText=++this.likeCount):(n.classList.remove("liked"),i.innerText=--this.likeCount,this.likeCount<=0&&(this.likeCount=0,i.innerText="赞"))}}},{key:"openPanel",value:function value(t,e){var n=document.createElement("div");n.classList.add("custom-dialog"),this.root.insertAdjacentElement("beforeend",n),"classic"===t?new Ee({container:n,message:"确认要删除该评论吗",onConfirm:function onConfirm(){A(e)&&e()},onClose:function onClose(){return n.parentElement.removeChild(n)}}):"report"===t?function(t){var e=new ke(t);e.render()}({container:n,title:"选择举报原因",list:pe,clickCallback:function clickCallback(t){A(e)&&e(t)},closeCallback:function closeCallback(){return n.parentElement.removeChild(n)}}):A(e)&&e()}},{key:"toggleReplyPublish",value:function value(){var t=this,e="reply-".concat(this.replyId),n=this.root.querySelector(".reply-text"),i=function i(){t.showReplyPublish=!1;var i=document.getElementById(e);i.parentElement.removeChild(i),n.innerText="回复"};if(this.showReplyPublish)i();else{Fe.emit("closeOtherReplyPublish"),this.showReplyPublish=!0,n.innerText="取消回复";var o=document.createElement("div");o.id=e,o.style.paddingTop="17px",this.root.insertAdjacentElement("afterEnd",o),je({containerId:e,radio:{label:"同时评论原文",checked:!1},placeholder:"回复".concat(this.uname,":"),sendCallback:function sendCallback(e){e.text&&be().then((function(){t.actionCallback("xpc-login-succ",{userName:ee.curUserName,location:"reply"}),fe(s({replyId:t.replyId},e)).then((function(e){i(),A(t.onReplySuccess)&&t.onReplySuccess(e)})).catch((function(e){t.toastCallback("xcp-publish-error",e)}))}))},actionCallback:this.actionCallback})}}},{key:"toastCallback",value:function value(t,e){ee.hideToast?this.actionCallback(t,e):_e.show({text:e})}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".xcp-item{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-top:28px;font-size:14px;color:#222}.xcp-item .left{width:64px}.is-second .xcp-item .left{width:55px}.xcp-item .right{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:1%}.is-second .xcp-item{padding-top:28px}");var Pe=function(){function t(e){n(this,t),this.container=e.container,this.appid=e.appid,this.data=e.data||{},this.isSecond=e.isSecond||!1,this.onDeleteSuccess=e.onDeleteSuccess,this.unshiftReply=e.unshiftReply,this.syncTextComment=e.syncTextComment,this.actionCallback=e.actionCallback,this.render(),this.bindEvent()}return o(t,[{key:"render",value:function value(){var t=this,e=this.data,n=document.createElement("div");n.classList.add("xcp-item"),n.dataset.replyId=e.reply_id;var i=document.createElement("div"),o=document.createElement("div");if(i.classList.add("left"),o.classList.add("right"),this.avatar=new pt({container:i,src:e.avatar,vip:e.vtype,isSmall:this.isSecond,url:ue(e.uk),actionCallback:this.actionCallback}),this.userBar=new ut({uname:e.uname,isAuthor:e.author_comment,verified:e.verified,decorations:e.decorations,rumorIcon:e.rumor_icon||!1}),this.richText=new Dt({content:e.content,contentRich:e.content_rich,replyToComment:e.reply_to_comment,hotLevel:e.hot_level,replyId:e.reply_id}),this.interactBar=new Ie({area:e.area,createTime:e.create_time,isAuthor:e.is_author,uname:e.uname,isUped:e.is_uped,likeCount:e.like_count,appid:this.appid,threadId:e.thread_id,replyId:e.reply_id,onDeleteSuccess:function onDeleteSuccess(){return t.onDeleteSuccess({target:t.container,replyCount:+e.reply_count||0})},onReplySuccess:function onReplySuccess(e){return t.onReplySuccess(e)},actionCallback:this.actionCallback}),e.image_list){var a=e.image_list;this.imageScale=new St({thumb:a.thumb&&a.thumb.url,large:a.large&&a.large.url,type:a.type,replyId:e.reply_id})}var r="\n            ".concat(this.userBar.makeTpl(),"\n            ").concat(this.richText.makeTpl(),"\n            ").concat(this.imageScale&&this.imageScale.makeTpl()||"","\n            ").concat(this.interactBar.makeTpl(),"\n        ");if(o.innerHTML=r,e.reply_list&&e.reply_list.length){var c=document.createElement("div");this.children=new Le({container:c,appid:this.appid,threadId:e.thread_id,isSecond:!0,listData:e.reply_list,parentId:e.reply_id,replyCount:e.reply_count,onUpdateReplyCount:function onUpdateReplyCount(e){return t.onUpdateReplyCount(e)},actionCallback:this.actionCallback}),o.appendChild(c)}n.insertAdjacentElement("afterbegin",i),n.insertAdjacentElement("beforeend",o),this.container.appendChild(n)}},{key:"bindEvent",value:function value(){var t=this,e=this.container;this.richText.bindEvent(e),this.imageScale&&this.imageScale.bindEvent(e),this.interactBar.bindEvent(e),G(e,".".concat("xcp-item"),"click",(function(e){var n=e.target;(n.closest(".".concat(t.avatar.prefixCls))||n.closest(".".concat(t.userBar.prefixCls)))&&(e.preventDefault(),e.stopPropagation(),t.actionCallback("xcp-user-click"),window.open(ue(t.data.uk)))}))}},{key:"onReplySuccess",value:function value(t){var e=this;if(t.sync_text_comment&&A(this.syncTextComment)&&this.syncTextComment(t.sync_text_comment),this.isSecond)A(this.unshiftReply)&&this.unshiftReply(t);else if(this.children)this.children.unshiftItem(t);else{this.data.reply_count=1,this.data.reply_list=[t];var n=document.createElement("div");this.children=new Le({container:n,appid:this.appid,threadId:t.thread_id,isSecond:!0,listData:this.data.reply_list,parentId:this.data.reply_id,replyCount:this.data.reply_count,onUpdateReplyCount:function onUpdateReplyCount(t){return e.onUpdateReplyCount(t)},actionCallback:this.actionCallback}),this.container.querySelector(".right").insertAdjacentElement("beforeEnd",n),this.children.changeCommentCount({type:"++"})}}},{key:"onUpdateReplyCount",value:function value(t){this.data.reply_count=t}}]),t}();!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".xcp-list *{-webkit-box-sizing:content-box;box-sizing:content-box}.xcp-list-title{font-family:PingFangSC-Semibold;font-size:18px;line-height:1;color:#000}.xcp-list-loader{margin-top:64px;height:42px;font:14px PingFangSC-Regular;text-align:center;line-height:42px;color:#626675;background:#f5f5f6;border-radius:6px;cursor:pointer}.xcp-list-loader.no-more{cursor:default;background:transparent}.xcp-list-loader.is-second{margin-top:30px;padding-left:55px;height:auto;text-align:left;font:13px/1 PingFangSC-Semibold;font-size:13px;color:#222;background:transparent}.xcp-list-loader.is-second .icon{display:inline-block;width:17px;height:13px;background-repeat:no-repeat;background-size:cover;vertical-align:middle}.xcp-list-loader.is-second .icon-up{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-arrow-up.png)}.xcp-list-loader.is-second .icon-down{background-image:url(https://b.bdstatic.com/searchbox/icms/searchbox/img/xcp-arrow-down.png)}");var Oe=dt(),Le=function(){function t(e){var i=this;n(this,t),this.container=e.container,this.appid=e.appid,this.threadId=e.threadId||"",this.source=e.source||"",this.isSecond=e.isSecond||!1,this.isNewStyle=e.isNewStyle||!1,this.listData=e.listData||[],this.parentId=e.parentId||"0",this.replyCount=+e.replyCount||0,this.onUpdateReplyCount=e.onUpdateReplyCount,this.onUpdateData=e.onUpdateData,this.outReplyId=e.outReplyId||"",this.actionCallback=A(e.actionCallback)?e.actionCallback:function(){},this.commentChangeCallback=A(e.commentChangeCallback)?e.commentChangeCallback:function(){},this.queryConf=r({},ne,{thread_id:this.threadId,out_reply_id:this.outReplyId,appid:this.appid,use_uk:1}),this.isSecond&&(delete this.queryConf.inner_order,this.queryConf=r(this.queryConf,{num:10,use_list:0,reply_id:this.parentId,order:"9"})),this.loaderStatus={isClosed:!0},this.isSecond&&this.listData.length?(this.render(),this.loaderStatus.hasMore=this.replyCount>2,this.savedOutReplyId=this.listData.map((function(t){return t.reply_id}))):this.fetchData(),this.bindEvent(),this.isSecond||(Oe.on("syncTextComment",(function(t){return i.syncTextComment(t)})),Oe.on("changeCommentCount",(function(t){return i.changeCommentCount(t)})))}return o(t,[{key:"fetchData",value:function value(){var t=this;this.changeLoaderStatus({isLoading:!0}),z({url:this.isSecond?oe.LIST2:oe.LIST1,data:r(this.queryConf,{ts:Date.now()}),success:function success(e){if(e&&!+e.errno&&e.ret){var n=e.ret||{};t.isSecond&&t.loaderStatus.isClosed&&(t.changeLoaderStatus({isClosed:!1}),n.list=n.list.filter((function(e){return-1===t.savedOutReplyId.indexOf(e.reply_id)}))),t.updateData(n),(n.list||[]).length?t.render():t.changeLoaderStatus({isLoading:!1,hasMore:!1,isError:!1})}else t.changeLoaderStatus({isLoading:!1,isError:!0})},error:function error(e,n){t.changeLoaderStatus({isLoading:!1,isError:!0})}})}},{key:"updateData",value:function value(t){this.allData=t,this.listData=t.list||[],this.isSecond||(ee.commentCount=+t.comment_count,ee.isLogin=!!+t.is_login,ee.userInfo=r(ee.userInfo,t.userinfo),A(this.onUpdateData)&&this.onUpdateData(ee.userInfo))}},{key:"render",value:function value(){var t=this,e=this.root||document.createElement("div");e.classList.add("xcp-list");var n=this.list||document.createElement("div");n.classList.add("".concat("xcp-list","-list")),this.isSecond?n.classList.add("is-second"):e.insertAdjacentHTML("afterbegin",this.changeTitle()),this.listData.map((function(e){var i=document.createElement("div");new Pe({container:i,appid:t.appid,data:e,isSecond:t.isSecond,onDeleteSuccess:function onDeleteSuccess(e){return t.deleteItem(e)},unshiftReply:function unshiftReply(e){return t.unshiftItem(e)},syncTextComment:function syncTextComment(e){return t.syncTextComment(e)},actionCallback:t.actionCallback});n.appendChild(i)})),!this.list&&e.appendChild(n),e.insertAdjacentHTML("beforeend",this.changeLoaderStatus({isLoading:!1,isError:!1,hasMore:this.allData&&!+this.allData.is_over})),!this.root&&this.container.insertAdjacentElement("beforeend",e),this.root=e,this.list=n}},{key:"makeTplTitle",value:function value(t){var e=t;if(void 0===e&&(e=this.allData&&+this.allData.comment_count),this.isNewStyle)return"number"==typeof e&&e>=1e4&&(e=parseFloat((e/1e4).toFixed(1))+"万"),this.commentChangeCallback(e),this.actionCallback("xcp-cmtcount-change",{count:e}),"";this.actionCallback("xcp-cmtcount-change",{count:e});var n="评论列表";return e>0&&(n+="（".concat(e,"条）")),'<h2 class="'.concat("xcp-list",'-title">').concat(n,"</h2>")}},{key:"changeTitle",value:function value(t){var e=this.container.querySelector(".".concat("xcp-list","-title"));return e?(e.outerHTML=this.makeTplTitle(t),""):this.makeTplTitle(t)}},{key:"makeTplLoader",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.loaderStatus=r(this.loaderStatus,t),n="",i="",o="";return this.isSecond?(i+="is-second",e.isClosed&&this.replyCount<=2?n="":e.isClosed&&this.replyCount>2?(n="全部".concat(this.replyCount,"条回复"),o+="icon-down"):e.hasMore?(n="查看全部回复",o+="icon-down"):(n="收起",o+="icon-up")):e.isLoading?n=ae:e.isError?n=re:e.hasMore?n=ce:(n=se,i+="no-more"),n?'\n            <div\n                class="'.concat("xcp-list","-loader ").concat(i,'"\n                data-parent-id="').concat(this.parentId,'"\n            >\n                <span>').concat(n,"</span>\n                ").concat(this.isSecond?'<i class="icon '.concat(o,'"></i>'):"","\n            </div>\n        "):""}},{key:"changeLoaderStatus",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.container.querySelector(".".concat("xcp-list",'-loader[data-parent-id="').concat(this.parentId,'"]'));return e?(e.outerHTML=this.makeTplLoader(t),""):this.makeTplLoader(t)}},{key:"closeList",value:function value(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=this.container.querySelector(".".concat("xcp-list","-list"));e.children.length>t;){e.removeChild(e.lastElementChild)}this.queryConf.start=0,this.changeLoaderStatus({isClosed:!0,hasMore:!0})}},{key:"bindEvent",value:function value(){var t=this;G(this.container,".".concat("xcp-list",'-loader[data-parent-id="').concat(this.parentId,'"]'),"click",(function(e){!t.isSecond||t.loaderStatus.hasMore?!t.loaderStatus.isLoading&&t.loaderStatus.hasMore&&(t.loaderStatus.isError||(t.queryConf.start+=t.isSecond&&t.loaderStatus.isClosed?0:t.queryConf.num),t.actionCallback("xcp-loader-click",{isSecond:t.isSecond}),t.fetchData()):t.closeList()}))}},{key:"changeCommentCount",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isSecond)Oe.emit("changeCommentCount",t);else{var e,n=t.count,i=t.type;e="number"==typeof n?this.allData.comment_count=n:"--"===i?--this.allData.comment_count:++this.allData.comment_count,ee.commentCount=e,this.changeTitle(e)}}},{key:"afterDeleteItem",value:function value(t){this.changeCommentCount(this.isSecond?{type:"--"}:{count:+this.allData.comment_count-1-t}),this.isSecond&&(this.replyCount--,this.onUpdateReplyCount(this.replyCount),this.changeLoaderStatus())}},{key:"deleteItem",value:function value(t){this.list&&(this.list.removeChild(t.target),this.afterDeleteItem(t.replyCount),this.isSecond||this.list.children.length||!this.root||(this.root.outerHTML="",this.root=null,this.list=null))}},{key:"afterUnshiftItem",value:function value(){this.changeCommentCount({type:"++"}),this.isSecond&&(this.replyCount++,this.onUpdateReplyCount(this.replyCount),this.changeLoaderStatus())}},{key:"unshiftItem",value:function value(t){var e=this;if(!this.isSecond&&!this.list)return this.listData=[t],ee.commentCount=this.allData.comment_count=1,void this.render();var n=document.createElement("div");new Pe({container:n,appid:this.appid,data:t,isSecond:this.isSecond,onDeleteSuccess:function onDeleteSuccess(t){return e.deleteItem(t)},actionCallback:this.actionCallback});this.list.insertAdjacentElement("afterBegin",n),this.afterUnshiftItem()}},{key:"syncTextComment",value:function value(t){this.isSecond?Oe.emit("syncTextComment",t):this.unshiftItem(t)}}]),t}(),Re="object"===("undefined"==typeof window?"undefined":e(window))&&window.self===window?navigator.userAgent:"",Ne=function Ne(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re;"main"===t&&(t="");var n=/ (baiduboxapp|biduboxapp)\//i;if(!1===n.test(e))return!1;var i=e.match(n),o=i[1];return!!~e.indexOf("".concat(t," ").concat(o))},ze=function ze(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re;"main"===t&&(t="");var n=/\bbdapp\/\d+\.\d+\s+\((\w+);\s*(\w+)\)/;if(""===t){var i=/\s(lite|pro|info|mission)\sbaiduboxapp\//.exec(e);if(i)return!0;if(/\bbdapp\/\d+\.\d+\s/.test(e))return!0}else if(!1===t){var o=e.match(n);if(o&&o[1])return!0}else{if(new RegExp(new RegExp("\\s".concat(t,"\\sbaiduboxapp/"))).test(e))return!0;var a=e.match(n);if(a&&a[1]&&a[1]===t)return!0}return!1},He="object"===("undefined"==typeof window?"undefined":e(window))&&window.self===window?navigator.userAgent:"";function Me(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He;"main"===t&&(t="");var i,o="0";if("object"===("undefined"==typeof window?"undefined":e(window))&&window.baiduboxapp_version)return baiduboxapp_version;(Ne(t,n)||ze(t,n))&&((i=/(baiduboxapp|baiduboxvision)\/([\d.]+)/.exec(n))?o=i[2]:(i=/([\d+.]+)_(?:diordna|enohpi)_/.exec(n))&&(o=(i=i[1].split(".")).reverse().join(".")));return o}function Ue(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:He;if((t=t||Me(e,n))&&"string"==typeof t){var i=/\d+\.\d+/.exec(t);if(i)return i[0]}return 0}var qe=decodeURIComponent,Ve=new RegExp("%[a-f0-9]{2}","gi"),We=new RegExp("(%[a-f0-9]{2})+","gi");function $e(t,e){try{return qe(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),i=t.slice(e);return Array.prototype.concat.call([],$e(n),$e(i))}function Je(t){try{return qe(t)}catch(i){for(var e=t.match(Ve),n=1;n<e.length;n++){e=(t=$e(e,n).join("")).match(Ve)}return t}}var Ye=function Ye(t){if("string"!=typeof t)throw st("encodedURI","string",t);try{return t=t.replace(/\+/g," "),qe(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=We.exec(t);n;){try{e[n[0]]=qe(n[0])}catch(t){var i=Je(n[0]);i!==n[0]&&(e[n[0]]=i)}n=We.exec(t)}e["%C2"]="�";for(var o=Object.keys(e),a=0;a<o.length;a++){var r=o[a];t=t.replace(new RegExp(r,"g"),e[r])}return t}(t)}},Qe=function Qe(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.split("?"),i=n[1]?n[1]:n[0],o=i.split("&"),a={};return o.forEach((function(t){if((t=t.split("="))[0].length>0){var n="";try{n=(e?Ye(t[1]):decodeURIComponent(t[1]))||""}catch(t){console.log(t)}a[t[0]]=n}})),a},Ge=function Ge(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.split("?"),i=g(n,2),o=i[0],a=i[1],r=void 0===a?"":a;return{url:o,query:e?Qe(r):r}};function Xe(t,e){for(var n in e){D(e[n])||S(e[n])?(D(e[n])&&!D(t[n])&&(t[n]={}),S(e[n])&&!S(t[n])&&(t[n]=[]),Xe(t[n],e[n])):w(e[n])||(t[n]=e[n])}}function Ke(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++){n[i-1]=arguments[i]}return T(t)&&(t=n.shift()),n.forEach((function(e){Xe(t,e)})),t}var Ze=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t);var o=Ge(e);if(0===(e=o.url).indexOf("//")){var a=location.protocol;"http:"!==a&&(a="https:"),e=a+e}this.url=e;var c=i.globalData||{};this._default=r(o.query||{},c),this._data={},this._before=i.before}return o(t,[{key:"setGlobalData",value:function value(t){return D(t)&&Ke(this._default,t),this}},{key:"mark",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!D(t))throw st("data","object",t);return D(t)&&r(this._mdata,t),this}},{key:"_send",value:function value(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!D(t))throw st("data","object",t);var n=new Image(1,1),i="_xbox_mt_".concat(y());window[i]=n,n.onload=n.onerror=n.onabort=function(){n.onload=n.onerror=n.onabort=null,window[i]=n=null},t=Ke({},this._default,t);var o=this._before;if(!e&&A(o)){var a=o(t);if(!1===a)return this;w(a)||(D(a)||C(a))&&(t=a)}var r="".concat(this.url,"?").concat(C(t)?t:P(t,!0));return n.src=r+"&_rnd="+y(),this}},{key:"send",value:function value(t){return this._send(this._data,t),delete this._mdata,this._mdata={},this}},{key:"report",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!D(t))throw st("data","object",t);return this._send(t,e)}}]),t}(),tn=Qe(location.search),en=navigator.userAgent,nn=Ne("lite")?10001:Ne("info")?10002:ze("tomas")?12117:ze("bdhonorbrowser")?12501:"1",on=function(t){l(i,t);var e=h(i);function i(t){n(this,i);var o={};return tn.uid&&tn.osname&&["osname","ua","ut","from","cfrom","uid","pkgname"].forEach((function(t){tn[t]&&(o[t]=tn[t])})),e.call(this,t?"https://mbd.baidu.com/ztbox":"https://mbd.baidu.com/tcbox",{globalData:s(s({},o),{},{service:"bdbox",action:t||"pblog",ctv:2,cen:"uid_ua_ut",data:{appid:nn,dataid:"2",actiontype:"1",actionid:"2",actiondata:{boxV:Ue(),ref:tn.ref||"",gmv:tn.vmgdb||"",source:tn.from||tn.ref||"",boxVersion:Me(),boxPlatform:en.match(/(iPad|iPhone|iPod)/gim)?"ios":"android"}}})})}return o(i,[{key:"init",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=g(t,2),n=e[0],o=e[1],a=D(o)?o:{};return a.data={},a.data.cateid=n,f(d(i.prototype),"setGlobalData",this).call(this,a)}},{key:"pv",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=g(t,2),n=e[0],o=e[1],a={actionid:"1",actiondata:{url:n||location.href}};return o&&(a.actiondata.u=o),f(d(i.prototype),"report",this).call(this,{data:a})}},{key:"event",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=g(t,4),n=e[0],o=e[1],a=void 0===o?"":o,r=e[2],c=void 0===r?"":r,s=e[3];if(!n)throw"monitor.tc.event need a evtName";var l={};if(D(a)&&!c)for(var p in l={evtName:n},a){l[p]=a[p]}else l={evtName:n,evtType:a,evtTag:c};var u={actionid:"2",actiondata:l};return s&&(u.cateid=s),f(d(i.prototype),"report",this).call(this,{data:u})}},{key:"newEvent",value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=g(t,2),n=e[0],o=e[1],a={actionid:"2",actiondata:n};return o&&(a.cateid=o),f(d(i.prototype),"report",this).call(this,{data:a})}}]),i}(Ze),an=new on,rn="visible"===(document.visibilityState||document.webkitVisibilityState),cn=function cn(t){rn?requestAnimationFrame(t):setTimeout(t,15)},sn=function sn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++){n[i-1]=arguments[i]}return an[t].apply(an,n)},ln=function ln(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++){n[i-1]=arguments[i]}var o=this&&this!==window?this:an;if("complete"!==document.readyState){var a=function e(){cn((function(){o[t].apply(o,n)})),window.removeEventListener("load",e)};window.addEventListener("load",a)}else cn((function(){o[t].apply(o,n)}))};function dn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;return/(Android);?[\s/]+([\d.]+)?/.test(t)}function pn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;return/(iPhone|iPod|iPad)/.test(t)}var un=Me()||"",hn=un.split(".").slice(0,2).join(".")||"",fn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;return pn(t)?"ios":dn(t)?"android":"unknown"}()||"",gn=function gn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.id,o=t.flow,a=void 0===o?"":o,c=t.action;delete t.action,delete t.id,delete t.flow;var s=e.from,l=void 0===s?"":s,d=e.page,p=void 0===d?"":d,u=e.source,h=void 0===u?"":u,f=e.ext,g=void 0===f?{}:f,x=e.logId,m=void 0===x?"11414":x;g=t.ext?r({},g,t.ext):g,delete t.ext;var b={id:i||m,type:0,content:r({boxVersion:un,boxV:hn,platform:fn,from:l,type:"",page:p,source:h,value:"",ext:g},t)};a&&(b.flow=a),"zpblog"===c?ln.call(new on("zpblog"),"newEvent",[b,99]):n?ln("newEvent",[b,99]):sn("newEvent",[b,99])},xn={},mn=1,bn=Date.now(),vn=!1,yn=function yn(t,e){Ce(e,340,ee.winHeight)&&("hide"===t?gn(s(s({},xn),{},{type:"comment_duration",ext:{time:String(Date.now()-bn)},value:ee.isLogin})):("show"===t&&(mn++,bn=Date.now(),vn=!1),!vn&&gn(s(s({},xn),{},{type:"comment_show",ext:{count:mn},value:ee.isLogin?+ee.isLogin:xn.value})),vn=!0))},En=function En(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};switch(t){case"publish-emoj-show":e="emoji_button_show";break;case"publish-radio-show":e=n.checked?"forward_show_1":"forward_show_0";break;case"publish-emoj-click":e="emoji_button_clk";break;case"publish-radio-click":e=n.checked?"forward_success":"forward_cancel";break;case"publish-send-click":e="publish_button";break;case"publish-textarea-click":e="input_box_clk";break;case"publish-emojItem-click":e="emoji_id_clk",i={id:n.id};break;case"publish-textarea-draft":e="publish_comment_draft";break;case"xcp-user-click":e="user_name_clk";break;case"xcp-like-click":e=n.liked?"praise_clk":"praise_cancel_clk ";break;case"xcp-delete-click":e="delete_clk";break;case"xcp-reply-click":e="reply_clk";break;case"xcp-report-click":e="report_clk";break;case"xcp-loader-click":e=n.isSecond?"view_replyall_clk":"view_all_clk"}e&&gn(s(s({},xn),{},{type:e,ext:i,value:ee.isLogin?+ee.isLogin:xn.value}))};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.dataset.for="xbox-comment-pc","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".xcp-publish{padding-bottom:20px}.xcp-publish-title{font-family:PingFangSC-Semibold;font-size:18px;line-height:1;color:#000}.xcp-publish-main{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-top:20px}.xcp-publish-main .left{padding-top:23px;width:64px}.xcp-publish-main .right{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.xcp-publish-main-newstyle{padding-top:22px}.xcp-publish-main-newstyle .left{padding-top:0}.xcp-publish-newstyle{padding-bottom:5px}");var Bn="xcp-publish",kn=function(){function t(e){n(this,t),this.container=e.container,this.isEmojFloatUp=e.isEmojFloatUp,this.isNewStyle=e.isNewStyle,this.avatarSrc=ee.userInfo&&ee.userInfo.avatar,this.onPublishSuccess=e.onPublishSuccess,this.disabled=e.disabled,this.actionCallback=A(e.actionCallback)?e.actionCallback:function(){},this.render()}return o(t,[{key:"render",value:function value(){var t=this,e=document.createElement("div");e.classList.add(Bn);var n=document.createElement("div");n.classList.add("".concat(Bn,"-main")),this.isNewStyle&&(e.classList.add("".concat(Bn,"-newstyle")),n.classList.add("".concat(Bn,"-main-newstyle")));var i=document.createElement("div");i.classList.add("left"),this.avatar=new pt({container:i,src:this.avatarSrc});var o=document.createElement("div"),a="".concat(Bn,"-main-right_").concat(Date.now());o.id=a,o.classList.add("right"),n.insertAdjacentElement("beforeEnd",i),n.insertAdjacentElement("beforeEnd",o);var r=document.createElement("h2");r.classList.add("".concat(Bn,"-title")),this.isNewStyle&&r.setAttribute("data-testid","".concat(Bn,"-new-title")),this.commentTitle=r,this.isNewStyle?r.innerText="评论":r.innerText="发表评论",e.appendChild(r),e.insertAdjacentElement("beforeEnd",n),this.container.insertAdjacentElement("afterBegin",e),this.publish=je({containerId:a,isEmojFloatUp:this.isEmojFloatUp,isNewStyle:this.isNewStyle,disabled:this.disabled,radio:{label:""},sendCallback:function sendCallback(e){delete e.isRadioChecked,e&&e.text&&be().then((function(){t.actionCallback("xpc-login-succ",{userName:ee.curUserName,location:"publish"}),fe(e).then((function(e){ee.hideToast?t.actionCallback("xcp-publish-succ","发表成功"):_e.show({text:"发表成功"}),A(t.onPublishSuccess)&&t.onPublishSuccess(e),t.publish.clearTextarea()})).catch((function(e){ee.hideToast?t.actionCallback("xcp-publish-error",e):_e.show({text:e})}))})).catch((function(){}))},actionCallback:this.actionCallback})}},{key:"updateData",value:function value(t){this.avatarSrc=t.avatar,this.avatar.updateSrc({src:this.avatarSrc})}},{key:"checkRealShow",value:function value(t){this.publish.checkRealShow(t)}},{key:"commentChangeCallback",value:function value(t){this.commentTitle.innerText="评论 ".concat(t)}}]),t}();!function(t){var e=t.Element.prototype;"function"!=typeof e.matches&&(e.matches=e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=0;e[n]&&e[n]!==this;){++n}return Boolean(e[n])}),"function"!=typeof e.closest&&(e.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(e.matches(t))return e;e=e.parentNode}return null})}(window);var wn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.options=s({source:"xbox-comment-pc",isNeedPublish:!0,openBrowserLimit:!0},e),this.container=document.getElementById(this.options.containerId);var i=this.options.tid;if(this.options.openBrowserLimit&&!ee.isHigherBrowser||!i)this.container&&(this.container.style.display="none");else{var o=this.options,a=o.appid,r=o.source,c=o.outReplyId,l=o.isNeedPublish,d=o.staticPage,p=o.actionCallback,u=o.hideToast,h=void 0!==u&&u;this.appid=ee.appid=a||"22862035",this.threadId=ee.threadId=i,this.outReplyId=c,this.source=r,this.isNeedPublish=l,this.actionCallback=A(p)?p:function(){},ee.passStaticPage=d,ee.hideToast=h,this.init()}}return o(t,[{key:"init",value:function value(){var t,e,n,i,o,a,c=this;t=this.options,n=(e=t||{}).source,i=e.nid,o=e.tid,a=e.isLogin,xn={from:"comment",page:"comment_module",source:n,value:+a,ext:{nid:""+i,topicid:""+o,num:ee.commentCount}},this.queryConf=r({},ne,{thread_id:this.threadId,out_reply_id:this.outReplyId,appid:this.appid,use_uk:1}),this.fetchData().then((function(t){c.handleData(t)})).catch((function(t){console.error(t)}))}},{key:"render",value:function value(){var t=this;if(this.isNeedPublish){var e=document.createElement("div");this.container.appendChild(e),this.publish=new kn({container:e,isEmojFloatUp:this.options.isEmojFloatUp,isNewStyle:this.options.isNewStyle,disabled:this.options.disabled,onPublishSuccess:function onPublishSuccess(e){t.list.unshiftItem(e)},actionCallback:function actionCallback(e,n){En(e,n),t.actionCallback(e,n)}})}var n=document.createElement("div");this.list=new Le({container:n,appid:this.appid,threadId:this.threadId,source:this.source,outReplyId:this.outReplyId,isNewStyle:this.options.isNewStyle,commentChangeCallback:function commentChangeCallback(e){return t.publish.commentChangeCallback(e)},onUpdateData:function onUpdateData(e){t.publish&&t.publish.updateData(e)},actionCallback:function actionCallback(e,n){En(e,n),t.actionCallback(e,n)}}),this.container.appendChild(n)}},{key:"bindEvent",value:function value(){var t=this,e=!1;A(this.publish&&this.publish.checkRealShow)&&this.publish.checkRealShow;window.addEventListener("scroll",(function(){yn("scroll",t.container),e||A(t.publish&&t.publish.checkRealShow)&&t.publish.checkRealShow((function(){e=!0}))}),!1),function(t){var e=t.showCb,n=t.hiddenCb,i=t.show,o=t.hidden,a=t.hide;e=e||i,n=n||o||a;var r="",c="";void 0!==document.visibilityState?(r="visibilityState",c="visibilitychange"):void 0!==document.webkitVisibilityState&&(r="webkitVisibilityState",c="webkitvisibilitychange"),c?document.addEventListener(c,(function(){"visible"===document[r]?e&&e():n&&n()}),!1):console.log("browser donot supports the Page Visibility API.")}({showCb:function showCb(){yn("show",t.container),e=!1,A(t.publish&&t.publish.checkRealShow)&&t.publish.checkRealShow()},hiddenCb:function hiddenCb(){yn("hide",t.container)}})}},{key:"fetchData",value:function value(){var t=this;return new Promise((function(e,n){z({url:oe.LIST1,data:t.queryConf,success:function success(t){0!=+t.errno?n(t):e(t.ret)},error:function error(t,e){n(t)}})}))}},{key:"handleData",value:function value(t){var e=this;"1"!==t.is_show&&("4"===t.is_show&&(this.isNeedPublish=!1),this.render(),setTimeout((function(){yn("first",e.container)}),100),this.bindEvent())}}]),t}();t.CommentPc=wn,t.default=function(t){return new wn(t)},Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this,__webpack_require__("c8ba"))}}]);